

<!DOCTYPE html>


<html lang="en" data-content_root="" >

  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" /><meta name="generator" content="Docutils 0.18.1: http://docutils.sourceforge.net/" />

    <title>Working with a new (glider) dataset &#8212; seaocn</title>
  
  
  
  <script data-cfasync="false">
    document.documentElement.dataset.mode = localStorage.getItem("mode") || "";
    document.documentElement.dataset.theme = localStorage.getItem("theme") || "light";
  </script>
  
  <!-- Loaded before other Sphinx assets -->
  <link href="../_static/styles/theme.css?digest=5b4479735964841361fd" rel="stylesheet" />
<link href="../_static/styles/bootstrap.css?digest=5b4479735964841361fd" rel="stylesheet" />
<link href="../_static/styles/pydata-sphinx-theme.css?digest=5b4479735964841361fd" rel="stylesheet" />

  
  <link href="../_static/vendor/fontawesome/6.1.2/css/all.min.css?digest=5b4479735964841361fd" rel="stylesheet" />
  <link rel="preload" as="font" type="font/woff2" crossorigin href="../_static/vendor/fontawesome/6.1.2/webfonts/fa-solid-900.woff2" />
<link rel="preload" as="font" type="font/woff2" crossorigin href="../_static/vendor/fontawesome/6.1.2/webfonts/fa-brands-400.woff2" />
<link rel="preload" as="font" type="font/woff2" crossorigin href="../_static/vendor/fontawesome/6.1.2/webfonts/fa-regular-400.woff2" />

    <link rel="stylesheet" type="text/css" href="../_static/pygments.css" />
    <link rel="stylesheet" href="../_static/styles/sphinx-book-theme.css?digest=14f4ca6b54d191a8c7657f6c759bf11a5fb86285" type="text/css" />
    <link rel="stylesheet" type="text/css" href="../_static/togglebutton.css" />
    <link rel="stylesheet" type="text/css" href="../_static/copybutton.css" />
    <link rel="stylesheet" type="text/css" href="../_static/mystnb.4510f1fc1dee50b3e5859aac5469c37c29e427902b24a333a5f9fcb2f0b3ac41.css" />
    <link rel="stylesheet" type="text/css" href="../_static/sphinx-thebe.css" />
    <link rel="stylesheet" type="text/css" href="../_static/myfile.css" />
    <link rel="stylesheet" type="text/css" href="../_static/design-style.4045f2051d55cab465a707391d5b2007.min.css" />
  
  <!-- Pre-loaded scripts that we'll load fully later -->
  <link rel="preload" as="script" href="../_static/scripts/bootstrap.js?digest=5b4479735964841361fd" />
<link rel="preload" as="script" href="../_static/scripts/pydata-sphinx-theme.js?digest=5b4479735964841361fd" />
  <script src="../_static/vendor/fontawesome/6.1.2/js/all.min.js?digest=5b4479735964841361fd"></script>

    <script data-url_root="../" id="documentation_options" src="../_static/documentation_options.js"></script>
    <script src="../_static/jquery.js"></script>
    <script src="../_static/underscore.js"></script>
    <script src="../_static/_sphinx_javascript_frameworks_compat.js"></script>
    <script src="../_static/doctools.js"></script>
    <script src="../_static/clipboard.min.js"></script>
    <script src="../_static/copybutton.js"></script>
    <script src="../_static/scripts/sphinx-book-theme.js?digest=5a5c038af52cf7bc1a1ec88eea08e6366ee68824"></script>
    <script>let toggleHintShow = 'Click to show';</script>
    <script>let toggleHintHide = 'Click to hide';</script>
    <script>let toggleOpenOnPrint = 'true';</script>
    <script src="../_static/togglebutton.js"></script>
    <script>var togglebuttonSelector = '.toggle, .admonition.dropdown';</script>
    <script src="../_static/design-tabs.js"></script>
    <script>const THEBE_JS_URL = "https://unpkg.com/thebe@0.8.2/lib/index.js"
const thebe_selector = ".thebe,.cell"
const thebe_selector_input = "pre"
const thebe_selector_output = ".output, .cell_output"
</script>
    <script async="async" src="../_static/sphinx-thebe.js"></script>
    <script>window.MathJax = {"options": {"processHtmlClass": "tex2jax_process|mathjax_process|math|output_area"}}</script>
    <script defer="defer" src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js"></script>
    <script>DOCUMENTATION_OPTIONS.pagename = 'exercise/demo-VOTO-glider-data';</script>
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
  <meta name="viewport" content="width=device-width, initial-scale=1"/>
  <meta name="docsearch:language" content="en"/>
  </head>
  
  
  <body data-bs-spy="scroll" data-bs-target=".bd-toc-nav" data-offset="180" data-bs-root-margin="0px 0px -60%" data-default-mode="">

  
  
  <a class="skip-link" href="#main-content">Skip to main content</a>
  
  <div id="pst-scroll-pixel-helper"></div>

  
  <button type="button" class="btn rounded-pill" id="pst-back-to-top">
    <i class="fa-solid fa-arrow-up"></i>
    Back to top
  </button>

  
  <input type="checkbox"
          class="sidebar-toggle"
          name="__primary"
          id="__primary"/>
  <label class="overlay overlay-primary" for="__primary"></label>
  
  <input type="checkbox"
          class="sidebar-toggle"
          name="__secondary"
          id="__secondary"/>
  <label class="overlay overlay-secondary" for="__secondary"></label>
  
  <div class="search-button__wrapper">
    <div class="search-button__overlay"></div>
    <div class="search-button__search-container">
<form class="bd-search d-flex align-items-center"
      action="../search.html"
      method="get">
  <i class="fa-solid fa-magnifying-glass"></i>
  <input type="search"
         class="form-control"
         name="q"
         id="search-input"
         placeholder="Search this book..."
         aria-label="Search this book..."
         autocomplete="off"
         autocorrect="off"
         autocapitalize="off"
         spellcheck="false"/>
  <span class="search-button__kbd-shortcut"><kbd class="kbd-shortcut__modifier">Ctrl</kbd>+<kbd>K</kbd></span>
</form></div>
  </div>
  
    <nav class="bd-header navbar navbar-expand-lg bd-navbar">
    </nav>
  
  <div class="bd-container">
    <div class="bd-container__inner bd-page-width">
      
      <div class="bd-sidebar-primary bd-sidebar">
        

  
  <div class="sidebar-header-items sidebar-primary__section">
    
    
    
    
  </div>
  
    <div class="sidebar-primary-items__start sidebar-primary__section">
        <div class="sidebar-primary-item">

  

<a class="navbar-brand logo" href="../intro.html">
  
  
  
  
  
    
    
      
    
    
    <img src="../_static/logo.png" class="logo__image only-light" alt="seaocn - Home"/>
    <script>document.write(`<img src="../_static/logo.png" class="logo__image only-dark" alt="seaocn - Home"/>`);</script>
  
  
</a></div>
        <div class="sidebar-primary-item"><nav class="bd-links" id="bd-docs-nav" aria-label="Main">
    <div class="bd-toc-item navbar-nav active">
        
        <ul class="nav bd-sidenav bd-sidenav__home-link">
            <li class="toctree-l1">
                <a class="reference internal" href="../intro.html">
                    MSc Seagoing Oceanography
                </a>
            </li>
        </ul>
        <p aria-level="2" class="caption" role="heading"><span class="caption-text">Overview</span></p>
<ul class="nav bd-sidenav">
<li class="toctree-l1"><a class="reference internal" href="../overview/catalog-listing.html">Course catalog listing</a></li>
<li class="toctree-l1"><a class="reference internal" href="../overview/syllabus.html">Syllabus (SuSe24)</a></li>
<li class="toctree-l1"><a class="reference internal" href="../overview/schedule.html">Schedule (SuSe24)</a></li>
</ul>
<p aria-level="2" class="caption" role="heading"><span class="caption-text">Topics</span></p>
<ul class="nav bd-sidenav">
<li class="toctree-l1"><a class="reference internal" href="../topics/course_overview.html">1. Course overview</a></li>
<li class="toctree-l1"><a class="reference internal" href="../topics/scientific_basis.html">2. Scientific basis</a></li>
</ul>
<p aria-level="2" class="caption" role="heading"><span class="caption-text">Exercises</span></p>
<ul class="nav bd-sidenav">
<li class="toctree-l1"><a class="reference internal" href="exercise-git.html">Exercise 0a - Git</a></li>
<li class="toctree-l1"><a class="reference internal" href="exercise-python.html">Exercise 0b - Python</a></li>
<li class="toctree-l1"><a class="reference internal" href="exercise-cnv.html">Exercise 1 - Profile data</a></li>



<li class="toctree-l1"><a class="reference internal" href="exercise-tseries.html">Exercise 2  Time series</a></li>
<li class="toctree-l1"><a class="reference internal" href="exercise-filter.html">Exercise 2<span class="math notranslate nohighlight">\(^+\)</span>  Filtering</a></li>
</ul>
<p aria-level="2" class="caption" role="heading"><span class="caption-text">Resources</span></p>
<ul class="nav bd-sidenav">
<li class="toctree-l1"><a class="reference internal" href="../resource/git.html">Git for sharing &amp; versioning</a></li>

<li class="toctree-l1"><a class="reference internal" href="../resource/python.html">Python</a></li>

<li class="toctree-l1"><a class="reference internal" href="../resource/books.html">Books + Reading</a></li>
<li class="toctree-l1"><a class="reference internal" href="../resource/glossary.html">Glossary</a></li>
</ul>
<ul class="nav bd-sidenav">
<li class="toctree-l1 has-children"><a class="reference internal" href="../build-the-book/getting-started.html">Setting up a jupyter book</a><input class="toctree-checkbox" id="toctree-checkbox-1" name="toctree-checkbox-1" type="checkbox"/><label class="toctree-toggle" for="toctree-checkbox-1"><i class="fa-solid fa-chevron-down"></i></label><ul>
<li class="toctree-l2"><a class="reference internal" href="../build-the-book/jupyter-book.html">Installation</a></li>
<li class="toctree-l2"><a class="reference internal" href="../build-the-book/github-pages.html">Prepare the git repositories</a></li>
<li class="toctree-l2"><a class="reference internal" href="../build-the-book/use-of-tokens.html">Use of tokens</a></li>
<li class="toctree-l2"><a class="reference internal" href="../build-the-book/regenerating-book.html">Regenerating the book after changes</a></li>
</ul>
</li>
</ul>

    </div>
</nav></div>
    </div>
  
  
  <div class="sidebar-primary-items__end sidebar-primary__section">
  </div>
  
  <div id="rtd-footer-container"></div>


      </div>
      
      <main id="main-content" class="bd-main">
        
        

<div class="sbt-scroll-pixel-helper"></div>

          <div class="bd-content">
            <div class="bd-article-container">
              
              <div class="bd-header-article">
<div class="header-article-items header-article__inner">
  
    <div class="header-article-items__start">
      
        <div class="header-article-item"><label class="sidebar-toggle primary-toggle btn btn-sm" for="__primary" title="Toggle primary sidebar" data-bs-placement="bottom" data-bs-toggle="tooltip">
  <span class="fa-solid fa-bars"></span>
</label></div>
      
    </div>
  
  
    <div class="header-article-items__end">
      
        <div class="header-article-item">

<div class="article-header-buttons">





<div class="dropdown dropdown-source-buttons">
  <button class="btn dropdown-toggle" type="button" data-bs-toggle="dropdown" aria-expanded="false" aria-label="Source repositories">
    <i class="fab fa-github"></i>
  </button>
  <ul class="dropdown-menu">
      
      
      
      <li><a href="https://github.com/ifmeo-hamburg/seaocn" target="_blank"
   class="btn btn-sm btn-source-repository-button dropdown-item"
   title="Source repository"
   data-bs-placement="left" data-bs-toggle="tooltip"
>
  

<span class="btn__icon-container">
  <i class="fab fa-github"></i>
  </span>
<span class="btn__text-container">Repository</span>
</a>
</li>
      
      
      
      
      <li><a href="https://github.com/ifmeo-hamburg/seaocn/issues/new?title=Issue%20on%20page%20%2Fexercise/demo-VOTO-glider-data.html&body=Your%20issue%20content%20here." target="_blank"
   class="btn btn-sm btn-source-issues-button dropdown-item"
   title="Open an issue"
   data-bs-placement="left" data-bs-toggle="tooltip"
>
  

<span class="btn__icon-container">
  <i class="fas fa-lightbulb"></i>
  </span>
<span class="btn__text-container">Open issue</span>
</a>
</li>
      
  </ul>
</div>






<div class="dropdown dropdown-download-buttons">
  <button class="btn dropdown-toggle" type="button" data-bs-toggle="dropdown" aria-expanded="false" aria-label="Download this page">
    <i class="fas fa-download"></i>
  </button>
  <ul class="dropdown-menu">
      
      
      
      <li><a href="../_sources/exercise/demo-VOTO-glider-data.ipynb" target="_blank"
   class="btn btn-sm btn-download-source-button dropdown-item"
   title="Download source file"
   data-bs-placement="left" data-bs-toggle="tooltip"
>
  

<span class="btn__icon-container">
  <i class="fas fa-file"></i>
  </span>
<span class="btn__text-container">.ipynb</span>
</a>
</li>
      
      
      
      
      <li>
<button onclick="window.print()"
  class="btn btn-sm btn-download-pdf-button dropdown-item"
  title="Print to PDF"
  data-bs-placement="left" data-bs-toggle="tooltip"
>
  

<span class="btn__icon-container">
  <i class="fas fa-file-pdf"></i>
  </span>
<span class="btn__text-container">.pdf</span>
</button>
</li>
      
  </ul>
</div>




<button onclick="toggleFullScreen()"
  class="btn btn-sm btn-fullscreen-button"
  title="Fullscreen mode"
  data-bs-placement="bottom" data-bs-toggle="tooltip"
>
  

<span class="btn__icon-container">
  <i class="fas fa-expand"></i>
  </span>

</button>



<script>
document.write(`
  <button class="btn btn-sm navbar-btn theme-switch-button" title="light/dark" aria-label="light/dark" data-bs-placement="bottom" data-bs-toggle="tooltip">
    <span class="theme-switch nav-link" data-mode="light"><i class="fa-solid fa-sun fa-lg"></i></span>
    <span class="theme-switch nav-link" data-mode="dark"><i class="fa-solid fa-moon fa-lg"></i></span>
    <span class="theme-switch nav-link" data-mode="auto"><i class="fa-solid fa-circle-half-stroke fa-lg"></i></span>
  </button>
`);
</script>


<script>
document.write(`
  <button class="btn btn-sm navbar-btn search-button search-button__button" title="Search" aria-label="Search" data-bs-placement="bottom" data-bs-toggle="tooltip">
    <i class="fa-solid fa-magnifying-glass fa-lg"></i>
  </button>
`);
</script>
<label class="sidebar-toggle secondary-toggle btn btn-sm" for="__secondary"title="Toggle secondary sidebar" data-bs-placement="bottom" data-bs-toggle="tooltip">
    <span class="fa-solid fa-list"></span>
</label>
</div></div>
      
    </div>
  
</div>
</div>
              
              

<div id="jb-print-docs-body" class="onlyprint">
    <h1>Working with a new (glider) dataset</h1>
    <!-- Table of contents -->
    <div id="print-main-content">
        <div id="jb-print-toc">
            
            <div>
                <h2> Contents </h2>
            </div>
            <nav aria-label="Page">
                <ul class="visible nav section-nav flex-column">
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#">Working with a new (glider) dataset</a><ul class="visible nav section-nav flex-column">
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#update-your-environment">Update your environment</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#structure-of-this-python-notebook">Structure of this python notebook:</a></li>
</ul>
</li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#erddap-how-to-access-data">0. ERDDAP-How to access data</a><ul class="visible nav section-nav flex-column">
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#got-an-error">Got an error?</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#load-the-metadata">Load the metadata</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#download-the-glider-data">1. Download the glider data</a><ul class="nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#aland-sea-data">Åland sea data</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#inspect-the-data">Inspect the data</a></li>
</ul>
</li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#concatenate-datasets">Concatenate datasets</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#baltic-inflow">2. Baltic inflow</a><ul class="nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#info">Info</a></li>
</ul>
</li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#hans-storm">3. Hans storm</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#spring-blooms">4. Spring blooms</a><ul class="nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#id1">Info</a></li>
</ul>
</li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#specific-data-with-issues">5. Specific data with issues</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#this-is-all-raw-data-and-many-adjustments-have-to-be-applied-and-various-issues-soruces-should-be-considered">This is all raw data and many adjustments have to be applied and various issues soruces should be considered</a></li>
</ul>
</li>
</ul>

            </nav>
        </div>
    </div>
</div>

              
                
<div id="searchbox"></div>
                <article class="bd-article" role="main">
                  
  <section class="tex2jax_ignore mathjax_ignore" id="working-with-a-new-glider-dataset">
<h1>Working with a new (glider) dataset<a class="headerlink" href="#working-with-a-new-glider-dataset" title="Permalink to this heading">#</a></h1>
<p><strong>Aim:</strong> To look at a new dataset and assess whether you think there may be any problems.</p>
<p><strong>Learning outcomes:</strong> Using what you’ve learned so far, you will apply this knowledge to a new dataset that you haven’t previously encountered.  You will be able to apply your knowledge of sensor response, ocean-knowing-measurements, and python to articulate (and quantify) a possible issue with a dataset.  You will also see an example of how data can be loaded from the internet directly into python.</p>
<p><strong>Data:</strong> You will work with data from <a class="reference external" href="https://voiceoftheocean.org">Voice of the Ocean (VOTO)</a> collected in the Baltic Sea.</p>
<p><strong>Directions:</strong> Run the python code step by step, and use it to</p>
<p><strong>Measure of success:</strong> You will have created a python notebook, a netCDF file (<em>not</em> added to the git repository) and the 5 figures exported as <code class="docutils literal notranslate"><span class="pre">*.png</span></code> format into your folder; these will be “commited” and “pushed” to the shared repository, and viewable by everyone.  Additionally, copy your 2 best figures to the <code class="docutils literal notranslate"><span class="pre">shared_figures/</span></code> folder for discussion.</p>
<hr><section id="update-your-environment">
<h2>Update your environment<a class="headerlink" href="#update-your-environment" title="Permalink to this heading">#</a></h2>
<p>Your environment will need to contain:</p>
<ul class="simple">
<li><p>matplotlib</p></li>
<li><p>pandas</p></li>
<li><p>tqdm</p></li>
<li><p>xarrray</p></li>
<li><p>cmocean</p></li>
<li><p>erddapy</p></li>
<li><p>argopy</p></li>
</ul>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p><strong>If you’re using conda to manage your environment:</strong> If these aren’t all already in your environment, and you’re using <code class="docutils literal notranslate"><span class="pre">conda</span></code> to manage your enviroment, then you can first activate your environment (mine is called <code class="docutils literal notranslate"><span class="pre">seaocn_env</span></code>), then you can run</p>
<p><strong>If you aren’t using conda:</strong> Then you can simply install the missing packages using your usual routines (may be <code class="docutils literal notranslate"><span class="pre">pip</span> <span class="pre">install</span> <span class="pre">erddapy</span></code>)</p>
<p>You may need to restart your kernal and/or jupyter-lab in order to run with the new packages in your kernel.</p>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">matplotlib.dates</span> <span class="k">as</span> <span class="nn">mdates</span>
<span class="kn">from</span> <span class="nn">matplotlib</span> <span class="kn">import</span> <span class="n">style</span>
<span class="kn">import</span> <span class="nn">pandas</span> <span class="k">as</span> <span class="nn">pd</span>
<span class="kn">import</span> <span class="nn">numpy</span> <span class="k">as</span> <span class="nn">np</span>
<span class="kn">import</span> <span class="nn">matplotlib.pyplot</span> <span class="k">as</span> <span class="nn">plt</span>
<span class="kn">import</span> <span class="nn">matplotlib.patches</span> <span class="k">as</span> <span class="nn">patches</span>
<span class="kn">import</span> <span class="nn">ast</span>
<span class="kn">import</span> <span class="nn">datetime</span>
<span class="kn">from</span> <span class="nn">tqdm</span> <span class="kn">import</span> <span class="n">tqdm</span>
<span class="kn">import</span> <span class="nn">xarray</span> <span class="k">as</span> <span class="nn">xr</span>
<span class="kn">from</span> <span class="nn">cmocean</span> <span class="kn">import</span> <span class="n">cm</span> <span class="k">as</span> <span class="n">cmo</span>
<span class="kn">import</span> <span class="nn">sys</span>
</pre></div>
</div>
</div>
</div>
</section>
<section id="structure-of-this-python-notebook">
<h2>Structure of this python notebook:<a class="headerlink" href="#structure-of-this-python-notebook" title="Permalink to this heading">#</a></h2>
<ol class="arabic simple" start="0">
<li><p>ERDDAP-How to access data</p></li>
<li><p>Åland sea data</p></li>
<li><p>Baltic Inflow</p></li>
<li><p>Hans Storm</p></li>
<li><p>Spring blooms and annual cycle</p></li>
<li><p>Issue with CTD data</p></li>
</ol>
</section>
</section>
<section class="tex2jax_ignore mathjax_ignore" id="erddap-how-to-access-data">
<h1>0. ERDDAP-How to access data<a class="headerlink" href="#erddap-how-to-access-data" title="Permalink to this heading">#</a></h1>
<p>We need some functions in untils to download data from ERDDAP
You need to have erddap_demo on your computer</p>
<p><a class="github reference external" href="https://github.com/voto-ocean-knowledge/erddap_demo">voto-ocean-knowledge/erddap_demo</a> use git clone to get this on your computer and the adjust the path in order to import all the functions</p>
<p>Observations portal VOTO <a class="reference external" href="https://observations.voiceoftheocean.org/">https://observations.voiceoftheocean.org/</a></p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1">#sys.path.append(&#39;C:\\Users\\u241346\\uni_hamburg\\erddap_demo&#39;)</span>
<span class="n">sys</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="s1">&#39;/Users/eddifying/Library/Mobile Documents/com~apple~CloudDocs/Work/teaching/SeaOcn-UHH/2024-SeaOcn/05-github/erddap_demo&#39;</span><span class="p">)</span>
<span class="kn">import</span> <span class="nn">utils</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output traceback highlight-ipythontb notranslate"><div class="highlight"><pre><span></span><span class="gt">---------------------------------------------------------------------------</span>
<span class="ne">ModuleNotFoundError</span><span class="g g-Whitespace">                       </span>Traceback (most recent call last)
<span class="n">Cell</span> <span class="n">In</span><span class="p">[</span><span class="mi">2</span><span class="p">],</span> <span class="n">line</span> <span class="mi">3</span>
<span class="g g-Whitespace">      </span><span class="mi">1</span> <span class="c1">#sys.path.append(&#39;C:\\Users\\u241346\\uni_hamburg\\erddap_demo&#39;)</span>
<span class="g g-Whitespace">      </span><span class="mi">2</span> <span class="n">sys</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="s1">&#39;/Users/eddifying/Library/Mobile Documents/com~apple~CloudDocs/Work/teaching/SeaOcn-UHH/2024-SeaOcn/05-github/erddap_demo&#39;</span><span class="p">)</span>
<span class="ne">----&gt; </span><span class="mi">3</span> <span class="kn">import</span> <span class="nn">utils</span>

<span class="ne">ModuleNotFoundError</span>: No module named &#39;utils&#39;
</pre></div>
</div>
</div>
</div>
<section id="got-an-error">
<h2>Got an error?<a class="headerlink" href="#got-an-error" title="Permalink to this heading">#</a></h2>
<p>If you got an error trying to <code class="docutils literal notranslate"><span class="pre">import</span> <span class="pre">utils</span></code> this is probably because the file <code class="docutils literal notranslate"><span class="pre">utils.py</span></code> is not available on your “path”.  The “path” is all the places that python will search for the file.</p>
<p>Your options are to clone the github repository “erddap_demo” as noted above, and then find the location on your computer to tell python where to find it (using the command <code class="docutils literal notranslate"><span class="pre">sys.path.append()</span></code>) OR the very simple way is to download the file <code class="docutils literal notranslate"><span class="pre">utils.py</span></code> only from the repository, and put it in the same folder as your <code class="docutils literal notranslate"><span class="pre">*.ipynb</span></code>, since python will definitely find it there.</p>
<p>Note that when you copy it, you will want the actual code (if you open <code class="docutils literal notranslate"><span class="pre">utils.py</span></code> it should look like python code).  If you have a bunch of stuff that looks like HTML (i.e., lines that start with <code class="docutils literal notranslate"><span class="pre">&lt;</span></code> and end with <code class="docutils literal notranslate"><span class="pre">&gt;</span></code>) then you haven’t copied the raw file, so try again.</p>
<hr></section>
<section id="load-the-metadata">
<h2>Load the metadata<a class="headerlink" href="#load-the-metadata" title="Permalink to this heading">#</a></h2>
<p>In the next section, we will download the metadata for the VOTO data to find datasets we’re interested in.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">e</span> <span class="o">=</span> <span class="n">utils</span><span class="o">.</span><span class="n">init_erddap</span><span class="p">()</span>

<span class="c1"># Fetch dataset list of all dataset existing</span>
<span class="n">e</span><span class="o">.</span><span class="n">response</span> <span class="o">=</span> <span class="s2">&quot;csv&quot;</span>
<span class="n">e</span><span class="o">.</span><span class="n">dataset_id</span> <span class="o">=</span> <span class="s2">&quot;allDatasets&quot;</span>
<span class="n">df_datasets</span> <span class="o">=</span> <span class="n">e</span><span class="o">.</span><span class="n">to_pandas</span><span class="p">(</span><span class="n">parse_dates</span><span class="o">=</span><span class="p">[</span><span class="s1">&#39;minTime (UTC)&#39;</span><span class="p">,</span> <span class="s1">&#39;maxTime (UTC)&#39;</span><span class="p">])</span>

<span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;found </span><span class="si">{</span><span class="nb">len</span><span class="p">(</span><span class="n">df_datasets</span><span class="p">)</span><span class="si">}</span><span class="s2"> datasets&quot;</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>found 499 datasets
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># drop the allDatasets row and make the datasetID the index for easier reading</span>
<span class="n">df_datasets</span><span class="o">.</span><span class="n">set_index</span><span class="p">(</span><span class="s2">&quot;datasetID&quot;</span><span class="p">,</span> <span class="n">inplace</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
<span class="n">df_datasets</span><span class="o">.</span><span class="n">drop</span><span class="p">(</span><span class="s2">&quot;allDatasets&quot;</span><span class="p">,</span> <span class="n">inplace</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>

<span class="c1"># Get only nrt data (near real time) and not delayed as otherwise it would be very long for an intial data exploration</span>
<span class="n">df_datasets</span> <span class="o">=</span> <span class="n">df_datasets</span><span class="p">[</span><span class="n">df_datasets</span><span class="o">.</span><span class="n">index</span><span class="o">.</span><span class="n">str</span><span class="p">[:</span><span class="mi">3</span><span class="p">]</span> <span class="o">==</span> <span class="s2">&quot;nrt&quot;</span><span class="p">]</span>
<span class="n">ds_meta</span> <span class="o">=</span> <span class="p">{}</span>
<span class="k">for</span> <span class="n">dataset_id</span> <span class="ow">in</span> <span class="n">tqdm</span><span class="p">(</span><span class="n">df_datasets</span><span class="o">.</span><span class="n">index</span><span class="p">):</span>
    <span class="n">ds_meta</span><span class="p">[</span><span class="n">dataset_id</span><span class="p">]</span> <span class="o">=</span> <span class="n">utils</span><span class="o">.</span><span class="n">get_meta</span><span class="p">(</span><span class="n">dataset_id</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>100%|███████████████████████████████████████████████████████████████████████████████████████| 197/197 [02:02&lt;00:00,  1.61it/s]
</pre></div>
</div>
</div>
</div>
<div class="admonition seealso">
<p class="admonition-title">See also</p>
<p>Stats to see where data is available and since when: <a class="reference external" href="https://observations.voiceoftheocean.org/stats">https://observations.voiceoftheocean.org/stats</a></p>
</div>
<p>We just downloaded info on all data so that now we can just find the specific datasets we want based on specific criteria</p>
</section>
<section id="download-the-glider-data">
<h2>1. Download the glider data<a class="headerlink" href="#download-the-glider-data" title="Permalink to this heading">#</a></h2>
<section id="aland-sea-data">
<h3>Åland sea data<a class="headerlink" href="#aland-sea-data" title="Permalink to this heading">#</a></h3>
<p>Åland Sea or the Sea of Åland is between Sweden and Finland.  It’s a narrow strait with  stratification and  currents.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># Create a list of the datasets available in this region</span>
<span class="n">name</span><span class="o">=</span><span class="p">[]</span>
<span class="k">for</span> <span class="n">dataset_id</span><span class="p">,</span> <span class="n">meta</span> <span class="ow">in</span> <span class="n">ds_meta</span><span class="o">.</span><span class="n">items</span><span class="p">():</span>
    <span class="k">if</span> <span class="n">meta</span><span class="p">[</span><span class="s1">&#39;deployment_start&#39;</span><span class="p">]</span><span class="o">&gt;</span><span class="s1">&#39;2023-02-01&#39;</span><span class="p">:</span>
        <span class="k">if</span> <span class="s1">&#39;Åland&#39;</span> <span class="ow">in</span> <span class="n">meta</span><span class="p">[</span><span class="s1">&#39;basin&#39;</span><span class="p">]:</span>
            <span class="n">name</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">dataset_id</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s1">&#39;Found </span><span class="si">{</span><span class="nb">len</span><span class="p">(</span><span class="n">name</span><span class="p">)</span><span class="si">}</span><span class="s1"> datasets in Åland: </span><span class="si">{</span><span class="n">name</span><span class="si">}</span><span class="s1">&#39;</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>Found 5 datasets in Åland: [&#39;nrt_SEA076_M21&#39;, &#39;nrt_SEA076_M24&#39;, &#39;nrt_SEA077_M29&#39;, &#39;nrt_SEA056_M68&#39;, &#39;nrt_SEA078_M24&#39;]
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">name</span><span class="p">[</span><span class="mi">4</span><span class="p">]</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>&#39;nrt_SEA078_M24&#39;
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># Download the glider dataset using the optional argument `nrt_only=True`</span>
<span class="n">ds_nrt</span> <span class="o">=</span> <span class="n">utils</span><span class="o">.</span><span class="n">download_glider_dataset</span><span class="p">(</span><span class="n">name</span><span class="p">,</span> <span class="n">nrt_only</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span> 
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>  0%|                                                                                                   | 0/5 [00:00&lt;?, ?it/s]
</pre></div>
</div>
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>Downloading nrt_SEA076_M21
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>/Users/eddifying/opt/miniconda3/envs/seaocn_env/lib/python3.8/site-packages/xarray/coding/times.py:250: RuntimeWarning: invalid value encountered in cast
  flat_num_dates_ns_int = (flat_num_dates * _NS_PER_TIME_DELTA[delta]).astype(
 20%|██████████████████▏                                                                        | 1/5 [00:01&lt;00:04,  1.14s/it]
</pre></div>
</div>
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>Downloading nrt_SEA076_M24
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>/Users/eddifying/opt/miniconda3/envs/seaocn_env/lib/python3.8/site-packages/xarray/coding/times.py:250: RuntimeWarning: invalid value encountered in cast
  flat_num_dates_ns_int = (flat_num_dates * _NS_PER_TIME_DELTA[delta]).astype(
 40%|████████████████████████████████████▍                                                      | 2/5 [00:02&lt;00:04,  1.44s/it]
</pre></div>
</div>
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>Downloading nrt_SEA077_M29
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span> 60%|██████████████████████████████████████████████████████▌                                    | 3/5 [00:04&lt;00:02,  1.37s/it]
</pre></div>
</div>
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>Downloading nrt_SEA056_M68
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>/Users/eddifying/opt/miniconda3/envs/seaocn_env/lib/python3.8/site-packages/xarray/coding/times.py:250: RuntimeWarning: invalid value encountered in cast
  flat_num_dates_ns_int = (flat_num_dates * _NS_PER_TIME_DELTA[delta]).astype(
 80%|████████████████████████████████████████████████████████████████████████▊                  | 4/5 [00:05&lt;00:01,  1.24s/it]
</pre></div>
</div>
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>Downloading nrt_SEA078_M24
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>100%|███████████████████████████████████████████████████████████████████████████████████████████| 5/5 [00:05&lt;00:00,  1.16s/it]
</pre></div>
</div>
</div>
</div>
<p><strong>Near-real time vs delayed-mode data</strong></p>
<p>In this exercise, we will only use near-real time (NRT) data and not delayed mode as it would be way slower otherwise.</p>
<p>NRT data from the VOTO gliders generally contain only one file every 3-4 hours (last dive of 2-12 multi-dives).  The CTD data are additionally subsampled to datapoints every 30 seconds (instead of the nominal time interval of 1 second).</p>
<p>In deep areas such as the Åland sea, this means that in the NRT files we have approximately every other dive with 30s data. In shallower locations (e.g., the Bornholm basin), we may get one data file every 6-8 dives at 30s time-resolution.</p>
<p>In areas with a more complex bathymetry as the Kattegat/Skagerrak area where the glider dives as deep as 200m in the north and as shallow as 40m in the south, we then receive files every 2 to 12 dives for the NRT dataset.</p>
</section>
<section id="inspect-the-data">
<h3>Inspect the data<a class="headerlink" href="#inspect-the-data" title="Permalink to this heading">#</a></h3>
<p>To start with, let’s take a look at our data.  We can do this by simply printing to the screen once we know which dataset we’re looking for.</p>
<p>Compare the two commands, to see what different information/display formats you get:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">ds_nrt</span><span class="p">[</span><span class="s1">&#39;nrt_SEA076_M21&#39;</span><span class="p">]</span>
</pre></div>
</div>
<p>and then separately,</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="nb">print</span><span class="p">(</span><span class="n">ds_nrt</span><span class="p">[</span><span class="s1">&#39;nrt_SEA076_M21&#39;</span><span class="p">]</span>
</pre></div>
</div>
<p>Take a look at the metadata and structure of the data.</p>
<ol class="arabic simple">
<li><p>What type are the data?</p></li>
</ol>
<!--xarray DataArray-->
<ol class="arabic simple" start="2">
<li><p>What is the “dimension”, and how long is it?</p></li>
</ol>
<!--time, and 40510-->
<ol class="arabic simple" start="3">
<li><p>What is the variable name for temperature?  for salinity?  for depth?</p></li>
</ol>
<!--temperature, salinity, depth-->
<p>Do you get different information if you do the following commands?</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">ds_nrt</span><span class="p">[</span><span class="s1">&#39;nrt_SEA076_M21&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">keys</span><span class="p">()</span>
<span class="nb">list</span><span class="p">(</span><span class="n">ds_nrt</span><span class="p">[</span><span class="s1">&#39;nrt_SEA076_M21&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">coords</span><span class="p">)</span>
<span class="nb">list</span><span class="p">(</span><span class="n">ds_nrt</span><span class="p">[</span><span class="s1">&#39;nrt_SEA076_M21&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">data_vars</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="n">ds_nrt</span><span class="p">[</span><span class="s1">&#39;nrt_SEA076_M21&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">dims</span><span class="p">)</span>
</pre></div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="nb">list</span><span class="p">(</span><span class="n">ds_nrt</span><span class="p">[</span><span class="s1">&#39;nrt_SEA078_M24&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">data_vars</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>[&#39;ad2cp_beam1_cell_number1&#39;,
 &#39;ad2cp_beam2_cell_number1&#39;,
 &#39;ad2cp_beam3_cell_number1&#39;,
 &#39;ad2cp_beam4_cell_number1&#39;,
 &#39;ad2cp_heading&#39;,
 &#39;ad2cp_pitch&#39;,
 &#39;ad2cp_pressure&#39;,
 &#39;ad2cp_roll&#39;,
 &#39;ad2cp_time&#39;,
 &#39;altimeter&#39;,
 &#39;angular_cmd&#39;,
 &#39;angular_pos&#39;,
 &#39;backscatter_raw&#39;,
 &#39;backscatter_scaled&#39;,
 &#39;ballast_cmd&#39;,
 &#39;ballast_pos&#39;,
 &#39;cdom&#39;,
 &#39;cdom_raw&#39;,
 &#39;chlorophyll&#39;,
 &#39;chlorophyll_qc&#39;,
 &#39;chlorophyll_raw&#39;,
 &#39;conductivity&#39;,
 &#39;conductivity_qc&#39;,
 &#39;dead_reckoning&#39;,
 &#39;declination&#39;,
 &#39;density&#39;,
 &#39;density_qc&#39;,
 &#39;desired_heading&#39;,
 &#39;distance_over_ground&#39;,
 &#39;dive_num&#39;,
 &#39;heading&#39;,
 &#39;internal_pressure&#39;,
 &#39;internal_temperature&#39;,
 &#39;linear_cmd&#39;,
 &#39;linear_pos&#39;,
 &#39;nav_resource&#39;,
 &#39;nav_state&#39;,
 &#39;oxygen_concentration&#39;,
 &#39;oxygen_concentration_qc&#39;,
 &#39;particulate_backscatter&#39;,
 &#39;pitch&#39;,
 &#39;potential_density&#39;,
 &#39;potential_density_qc&#39;,
 &#39;potential_temperature&#39;,
 &#39;potential_temperature_qc&#39;,
 &#39;pressure&#39;,
 &#39;profile_direction&#39;,
 &#39;profile_num&#39;,
 &#39;roll&#39;,
 &#39;salinity&#39;,
 &#39;salinity_qc&#39;,
 &#39;security_level&#39;,
 &#39;temperature&#39;,
 &#39;temperature_oxygen&#39;,
 &#39;temperature_qc&#39;,
 &#39;vertical_distance_to_seafloor&#39;,
 &#39;voltage&#39;]
</pre></div>
</div>
</div>
</div>
</section>
</section>
<section id="concatenate-datasets">
<h2>Concatenate datasets<a class="headerlink" href="#concatenate-datasets" title="Permalink to this heading">#</a></h2>
<p>From above, we see that there were five missions of gliders to the Åland Sea.  Rather than dealing with them separately, let’s put them all together in a single xarray DataArray.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1">#for i in range(len(name)):</span>
<span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="p">[</span><span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">4</span><span class="p">]:</span>
        
    <span class="nb">print</span><span class="p">(</span><span class="n">name</span><span class="p">[</span><span class="n">i</span><span class="p">])</span>
        <span class="c1">#list(ds_nrt[name[i]]))</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>nrt_SEA076_M21
nrt_SEA076_M24
nrt_SEA078_M24
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># Initialise a dataset as empty</span>
<span class="n">full_data</span> <span class="o">=</span> <span class="p">[]</span>

<span class="c1"># Cycle through each of the glider datasets listed in `name`</span>
<span class="c1">#for i in range(len(name)):</span>
<span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="p">[</span><span class="mi">4</span><span class="p">]:</span>
    
    <span class="c1"># For each dataset, append it to the data in full_data (starts empty, and grows)</span>
    <span class="n">full_data</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">ds_nrt</span><span class="p">[</span><span class="n">name</span><span class="p">[</span><span class="n">i</span><span class="p">]])</span>

<span class="c1"># Concatenate datasets together along the time dimension</span>
<span class="n">full_data</span> <span class="o">=</span> <span class="n">xr</span><span class="o">.</span><span class="n">concat</span><span class="p">(</span><span class="n">full_data</span><span class="p">,</span> <span class="n">dim</span><span class="o">=</span> <span class="s1">&#39;time&#39;</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>/Users/eddifying/opt/miniconda3/envs/seaocn_env/lib/python3.8/site-packages/xarray/coding/times.py:250: RuntimeWarning: invalid value encountered in cast
  flat_num_dates_ns_int = (flat_num_dates * _NS_PER_TIME_DELTA[delta]).astype(
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">xr</span><span class="o">.</span><span class="n">show_versions</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>INSTALLED VERSIONS
------------------
commit: None
python: 3.8.19 | packaged by conda-forge | (default, Mar 20 2024, 12:50:25) 
[Clang 15.0.7 ]
python-bits: 64
OS: Darwin
OS-release: 23.4.0
machine: x86_64
processor: i386
byteorder: little
LC_ALL: None
LANG: en_GB.UTF-8
LOCALE: (&#39;en_GB&#39;, &#39;UTF-8&#39;)
libhdf5: 1.14.3
libnetcdf: 4.9.2

xarray: 2023.1.0
pandas: 1.5.3
numpy: 1.24.4
scipy: 1.10.1
netCDF4: 1.6.5
pydap: None
h5netcdf: None
h5py: None
Nio: None
zarr: None
cftime: 1.6.3
nc_time_axis: None
PseudoNetCDF: None
rasterio: None
cfgrib: None
iris: None
bottleneck: None
dask: None
distributed: None
matplotlib: 3.7.3
cartopy: None
seaborn: None
numbagg: None
fsspec: 2023.10.0
cupy: None
pint: None
sparse: None
flox: None
numpy_groupies: None
setuptools: 69.2.0
pip: 24.0
conda: None
pytest: None
mypy: None
IPython: 8.12.2
sphinx: 5.0.2
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>/Users/eddifying/opt/miniconda3/envs/seaocn_env/lib/python3.8/site-packages/_distutils_hack/__init__.py:26: UserWarning: Setuptools is replacing distutils.
  warnings.warn(&quot;Setuptools is replacing distutils.&quot;)
</pre></div>
</div>
</div>
</div>
</section>
<section id="baltic-inflow">
<h2>2. Baltic inflow<a class="headerlink" href="#baltic-inflow" title="Permalink to this heading">#</a></h2>
<p>What are Baltic Inflows?</p>
<p>The deep water in the Baltic Proper is renewed during specific conditions: when salt water from the Kattegat flows through the Belt and the Sound, and fills in turn the deep areas of the Arkona Basin, the Bornholm Basin, the Eastern Gotland Basin and the western Gotland Basin. They manifest as bottom gravity currents.</p>
<p>The Baltic Sea is a very enclosed sea characterized by brakish waters, and salt water only enters through the narrow Danish straits. Water masses change in the upper layers and interlayer, but not near the bottom. The deep waters of the Baltic sea are anoxic. When large amounts of salty water from the North Sea enters the Baltic, this salty and dense oxygen-rich water can replace the anoxic deep water. Such events are called Major Baltic Inflows (MBI) which are a necessary phenomena as they allow oxygen to be replenished in the deepest parts of the Baltic.</p>
<p>Detecting Baltic inflows with observations can be a challenge. The short duration of the inflows (2–3 weeks) poses a challenge to traditional ﬁeld measurements.  As a consequence, the BIs are prone to undersampling and difﬁcult to predict. Since regular monitoring cruises in the Baltic Sea typically occur monthly or less frequently, the likelihood of missing or only partially resolving a BI is high.</p>
<p>In December, a Baltic inflow was detected. This recent inflow brought 80 km<span class="math notranslate nohighlight">\(^3\)</span> of new salty water into the Baltic Sea, making this event a medium size inflow.
The last  comparable one was over 5 years ago. The inflow corresponds to 1.6 Gt (1.6 billion t) of salt. This is the first event of this scale since the VOTO observatories started.</p>
<p>Estimated that by the beginning of February, the deep water in Bornholm Basin will be exchanged by the new salty inflow.</p>
<div class="admonition seealso">
<p class="admonition-title">See also</p>
<p><a class="reference external" href="https://news.err.ee/1609206383/rare-saltwater-inflow-in-baltic-sea-could-have-widespread-environmental-impactter">https://news.err.ee/1609206383/rare-saltwater-inflow-in-baltic-sea-could-have-widespread-environmental-impactter</a>.</p>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># We want to find data from the Bornholm Basin (the first basin after the Danish straits) from early December 2023 until now</span>

<span class="n">name</span><span class="o">=</span><span class="p">[]</span>
<span class="k">for</span> <span class="n">dataset_id</span><span class="p">,</span> <span class="n">meta</span> <span class="ow">in</span> <span class="n">ds_meta</span><span class="o">.</span><span class="n">items</span><span class="p">():</span>
    <span class="k">if</span> <span class="n">meta</span><span class="p">[</span><span class="s1">&#39;deployment_end&#39;</span><span class="p">]</span><span class="o">&gt;</span><span class="s1">&#39;2023-12-01&#39;</span><span class="p">:</span>
        <span class="k">if</span> <span class="s1">&#39;Bornholm&#39;</span> <span class="ow">in</span> <span class="n">meta</span><span class="p">[</span><span class="s1">&#39;basin&#39;</span><span class="p">]:</span>
            <span class="n">name</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">dataset_id</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s1">&#39;Found </span><span class="si">{</span><span class="nb">len</span><span class="p">(</span><span class="n">name</span><span class="p">)</span><span class="si">}</span><span class="s1"> datasets in Bornholm: </span><span class="si">{</span><span class="n">name</span><span class="si">}</span><span class="s1">&#39;</span><span class="p">)</span>
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">ds_nrt</span> <span class="o">=</span> <span class="n">utils</span><span class="o">.</span><span class="n">download_glider_dataset</span><span class="p">(</span><span class="n">name</span><span class="p">,</span> <span class="n">nrt_only</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">full_data</span> <span class="o">=</span> <span class="p">[]</span>
<span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="n">name</span><span class="p">)):</span>
    <span class="n">full_data</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">ds_nrt</span><span class="p">[</span><span class="n">name</span><span class="p">[</span><span class="n">i</span><span class="p">]])</span>
<span class="n">full_data</span> <span class="o">=</span> <span class="n">xr</span><span class="o">.</span><span class="n">concat</span><span class="p">(</span><span class="n">full_data</span><span class="p">,</span> <span class="n">dim</span><span class="o">=</span> <span class="s1">&#39;time&#39;</span><span class="p">)</span>

<span class="n">fig</span><span class="p">,</span> <span class="n">ax</span> <span class="o">=</span> <span class="n">plt</span><span class="o">.</span><span class="n">subplots</span><span class="p">(</span><span class="mi">4</span><span class="p">,</span><span class="mi">1</span><span class="p">,</span><span class="n">figsize</span><span class="o">=</span><span class="p">(</span><span class="mi">20</span><span class="p">,</span> <span class="mi">15</span><span class="p">),</span> <span class="n">sharex</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
<span class="n">matplotlib</span><span class="o">.</span><span class="n">rcParams</span><span class="o">.</span><span class="n">update</span><span class="p">({</span><span class="s1">&#39;font.size&#39;</span><span class="p">:</span> <span class="mi">18</span><span class="p">})</span>
<span class="n">time</span><span class="o">=</span><span class="n">mdates</span><span class="o">.</span><span class="n">date2num</span><span class="p">(</span><span class="n">full_data</span><span class="o">.</span><span class="n">time</span><span class="p">)</span>
<span class="n">t</span><span class="o">=</span><span class="n">ax</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">scatter</span><span class="p">(</span> <span class="n">time</span><span class="p">,</span><span class="n">full_data</span><span class="o">.</span><span class="n">depth</span><span class="p">,</span> <span class="n">c</span><span class="o">=</span><span class="n">full_data</span><span class="o">.</span><span class="n">temperature</span><span class="p">,</span><span class="n">s</span><span class="o">=</span><span class="mi">20</span><span class="p">,</span> <span class="n">cmap</span><span class="o">=</span><span class="n">cmo</span><span class="o">.</span><span class="n">thermal</span><span class="p">,</span> <span class="n">vmin</span><span class="o">=</span><span class="n">np</span><span class="o">.</span><span class="n">nanpercentile</span><span class="p">(</span><span class="n">full_data</span><span class="o">.</span><span class="n">temperature</span><span class="p">,</span> <span class="mf">0.5</span><span class="p">),</span> <span class="n">vmax</span><span class="o">=</span><span class="n">np</span><span class="o">.</span><span class="n">nanpercentile</span><span class="p">(</span><span class="n">full_data</span><span class="o">.</span><span class="n">temperature</span><span class="p">,</span> <span class="mf">99.5</span><span class="p">))</span>
<span class="n">s</span><span class="o">=</span><span class="n">ax</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span><span class="o">.</span><span class="n">scatter</span><span class="p">(</span> <span class="n">time</span><span class="p">,</span><span class="n">full_data</span><span class="o">.</span><span class="n">depth</span><span class="p">,</span> <span class="n">c</span><span class="o">=</span><span class="n">full_data</span><span class="o">.</span><span class="n">salinity</span><span class="p">,</span><span class="n">s</span><span class="o">=</span><span class="mi">20</span><span class="p">,</span><span class="n">cmap</span><span class="o">=</span><span class="n">cmo</span><span class="o">.</span><span class="n">haline</span><span class="p">,</span> <span class="n">vmin</span><span class="o">=</span><span class="n">np</span><span class="o">.</span><span class="n">nanpercentile</span><span class="p">(</span><span class="n">full_data</span><span class="o">.</span><span class="n">salinity</span><span class="p">,</span> <span class="mf">0.5</span><span class="p">),</span> <span class="n">vmax</span><span class="o">=</span><span class="n">np</span><span class="o">.</span><span class="n">nanpercentile</span><span class="p">(</span><span class="n">full_data</span><span class="o">.</span><span class="n">salinity</span><span class="p">,</span> <span class="mf">99.5</span><span class="p">))</span>
<span class="n">d</span><span class="o">=</span><span class="n">ax</span><span class="p">[</span><span class="mi">2</span><span class="p">]</span><span class="o">.</span><span class="n">scatter</span><span class="p">(</span> <span class="n">time</span><span class="p">,</span><span class="n">full_data</span><span class="o">.</span><span class="n">depth</span><span class="p">,</span> <span class="n">c</span><span class="o">=</span><span class="n">full_data</span><span class="o">.</span><span class="n">density</span><span class="p">,</span> <span class="n">s</span><span class="o">=</span><span class="mi">20</span><span class="p">,</span> <span class="n">cmap</span><span class="o">=</span><span class="n">cmo</span><span class="o">.</span><span class="n">dense</span><span class="p">,</span> <span class="n">vmin</span><span class="o">=</span><span class="n">np</span><span class="o">.</span><span class="n">nanpercentile</span><span class="p">(</span><span class="n">full_data</span><span class="o">.</span><span class="n">density</span><span class="p">,</span> <span class="mf">0.5</span><span class="p">),</span> <span class="n">vmax</span><span class="o">=</span><span class="n">np</span><span class="o">.</span><span class="n">nanpercentile</span><span class="p">(</span><span class="n">full_data</span><span class="o">.</span><span class="n">density</span><span class="p">,</span> <span class="mf">99.5</span><span class="p">))</span>
<span class="n">o</span><span class="o">=</span><span class="n">ax</span><span class="p">[</span><span class="mi">3</span><span class="p">]</span><span class="o">.</span><span class="n">scatter</span><span class="p">(</span> <span class="n">time</span><span class="p">,</span><span class="n">full_data</span><span class="o">.</span><span class="n">depth</span><span class="p">,</span> <span class="n">c</span><span class="o">=</span><span class="n">full_data</span><span class="o">.</span><span class="n">oxygen_concentration</span><span class="p">,</span><span class="n">cmap</span><span class="o">=</span><span class="n">cmo</span><span class="o">.</span><span class="n">matter</span><span class="p">,</span> <span class="n">s</span><span class="o">=</span><span class="mi">20</span><span class="p">,</span><span class="n">vmin</span><span class="o">=</span><span class="n">np</span><span class="o">.</span><span class="n">nanpercentile</span><span class="p">(</span><span class="n">full_data</span><span class="o">.</span><span class="n">oxygen_concentration</span><span class="p">,</span> <span class="mf">0.5</span><span class="p">),</span> <span class="n">vmax</span><span class="o">=</span><span class="n">np</span><span class="o">.</span><span class="n">nanpercentile</span><span class="p">(</span><span class="n">full_data</span><span class="o">.</span><span class="n">oxygen_concentration</span><span class="p">,</span> <span class="mf">99.5</span><span class="p">))</span>

<span class="p">[</span><span class="n">a</span><span class="o">.</span><span class="n">set_ylim</span><span class="p">(</span><span class="mi">90</span><span class="p">,</span><span class="o">-</span><span class="mi">10</span><span class="p">)</span> <span class="k">for</span> <span class="n">a</span> <span class="ow">in</span> <span class="n">ax</span><span class="p">]</span>
<span class="p">[</span><span class="n">a</span><span class="o">.</span><span class="n">grid</span><span class="p">()</span> <span class="k">for</span> <span class="n">a</span> <span class="ow">in</span> <span class="n">ax</span><span class="p">]</span>
<span class="n">ax</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span><span class="o">.</span><span class="n">xaxis</span><span class="o">.</span><span class="n">reset_ticks</span><span class="p">()</span>
<span class="n">ax</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span><span class="o">.</span><span class="n">xaxis</span><span class="o">.</span><span class="n">set_major_locator</span><span class="p">(</span><span class="n">mdates</span><span class="o">.</span><span class="n">WeekdayLocator</span><span class="p">(</span><span class="n">byweekday</span> <span class="o">=</span> <span class="mi">1</span><span class="p">,</span> <span class="n">interval</span><span class="o">=</span><span class="mi">3</span><span class="p">))</span>
<span class="n">ax</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span><span class="o">.</span><span class="n">xaxis</span><span class="o">.</span><span class="n">set_major_formatter</span><span class="p">(</span><span class="n">mdates</span><span class="o">.</span><span class="n">DateFormatter</span><span class="p">(</span><span class="s1">&#39;%Y-%m-</span><span class="si">%d</span><span class="s1">&#39;</span><span class="p">))</span>


<span class="n">cbarT</span><span class="o">=</span><span class="n">plt</span><span class="o">.</span><span class="n">colorbar</span><span class="p">(</span><span class="n">t</span><span class="p">,</span> <span class="n">ax</span><span class="o">=</span><span class="n">ax</span><span class="p">[</span><span class="mi">0</span><span class="p">],</span> <span class="n">pad</span> <span class="o">=</span> <span class="mf">0.03</span><span class="p">)</span>
<span class="n">cbarT</span><span class="o">.</span><span class="n">set_label</span><span class="p">(</span><span class="s1">&#39;Potential </span><span class="se">\n</span><span class="s1">Temperature </span><span class="se">\n</span><span class="s1">(°C)&#39;</span><span class="p">,</span><span class="n">labelpad</span><span class="o">=</span><span class="mi">70</span><span class="p">,</span> <span class="n">y</span><span class="o">=</span><span class="mf">0.5</span><span class="p">,</span> <span class="n">rotation</span><span class="o">=</span><span class="mi">270</span><span class="p">,</span><span class="n">fontsize</span><span class="o">=</span><span class="mi">18</span><span class="p">)</span>
<span class="n">cbarS</span><span class="o">=</span><span class="n">plt</span><span class="o">.</span><span class="n">colorbar</span><span class="p">(</span><span class="n">s</span><span class="p">,</span> <span class="n">ax</span><span class="o">=</span><span class="n">ax</span><span class="p">[</span><span class="mi">1</span><span class="p">],</span> <span class="n">pad</span> <span class="o">=</span> <span class="mf">0.03</span><span class="p">)</span>
<span class="n">cbarS</span><span class="o">.</span><span class="n">set_label</span><span class="p">(</span><span class="s1">&#39;Absolute </span><span class="se">\n</span><span class="s1">Salinity </span><span class="se">\n</span><span class="s1">(g kg$^{-1}$)&#39;</span><span class="p">,</span><span class="n">labelpad</span><span class="o">=</span><span class="mi">70</span><span class="p">,</span> <span class="n">y</span><span class="o">=</span><span class="mf">0.5</span><span class="p">,</span> <span class="n">rotation</span><span class="o">=</span><span class="mi">270</span><span class="p">,</span><span class="n">fontsize</span><span class="o">=</span><span class="mi">18</span><span class="p">)</span>
<span class="n">cbarD</span><span class="o">=</span><span class="n">plt</span><span class="o">.</span><span class="n">colorbar</span><span class="p">(</span><span class="n">d</span><span class="p">,</span> <span class="n">ax</span><span class="o">=</span><span class="n">ax</span><span class="p">[</span><span class="mi">2</span><span class="p">],</span> <span class="n">pad</span> <span class="o">=</span> <span class="mf">0.03</span><span class="p">)</span>
<span class="n">cbarD</span><span class="o">.</span><span class="n">set_label</span><span class="p">(</span><span class="s1">&#39;Potential </span><span class="se">\n</span><span class="s1">Density </span><span class="se">\n</span><span class="s1">(kg m$^{-3}$)&#39;</span><span class="p">,</span><span class="n">labelpad</span><span class="o">=</span><span class="mi">70</span><span class="p">,</span> <span class="n">y</span><span class="o">=</span><span class="mf">0.5</span><span class="p">,</span> <span class="n">rotation</span><span class="o">=</span><span class="mi">270</span><span class="p">,</span><span class="n">fontsize</span><span class="o">=</span><span class="mi">18</span><span class="p">)</span>
<span class="n">cbarO</span><span class="o">=</span><span class="n">plt</span><span class="o">.</span><span class="n">colorbar</span><span class="p">(</span><span class="n">o</span><span class="p">,</span> <span class="n">ax</span><span class="o">=</span><span class="n">ax</span><span class="p">[</span><span class="mi">3</span><span class="p">],</span> <span class="n">pad</span> <span class="o">=</span> <span class="mf">0.03</span><span class="p">)</span>
<span class="n">cbarO</span><span class="o">.</span><span class="n">set_label</span><span class="p">(</span><span class="s1">&#39;Oxygen </span><span class="se">\n</span><span class="s1">concentration </span><span class="se">\n</span><span class="s1">(mmol m$^{-3}$)&#39;</span><span class="p">,</span><span class="n">labelpad</span><span class="o">=</span><span class="mi">70</span><span class="p">,</span> <span class="n">y</span><span class="o">=</span><span class="mf">0.5</span><span class="p">,</span> <span class="n">rotation</span><span class="o">=</span><span class="mi">270</span><span class="p">,</span><span class="n">fontsize</span><span class="o">=</span><span class="mi">18</span><span class="p">)</span>

<span class="p">[</span><span class="n">a</span><span class="o">.</span><span class="n">tick_params</span><span class="p">(</span><span class="n">axis</span><span class="o">=</span><span class="s1">&#39;both&#39;</span><span class="p">,</span> <span class="n">which</span><span class="o">=</span><span class="s1">&#39;major&#39;</span><span class="p">,</span> <span class="n">labelsize</span><span class="o">=</span><span class="mi">18</span><span class="p">)</span> <span class="k">for</span> <span class="n">a</span> <span class="ow">in</span> <span class="n">ax</span><span class="p">]</span>
<span class="p">[</span><span class="n">a</span><span class="o">.</span><span class="n">set_ylabel</span><span class="p">(</span><span class="s1">&#39;Depth (m)&#39;</span><span class="p">,</span><span class="n">fontsize</span><span class="o">=</span><span class="mi">18</span><span class="p">)</span> <span class="k">for</span> <span class="n">a</span> <span class="ow">in</span> <span class="n">ax</span><span class="p">]</span>
</pre></div>
</div>
</div>
</div>
<section id="info">
<h3>Info<a class="headerlink" href="#info" title="Permalink to this heading">#</a></h3>
<p>There are issues with some of the oxygen data and more info can be found here <a class="reference external" href="https://observations.voiceoftheocean.org/static/img/reports/Quality_Issue_1_AROD.pdf">https://observations.voiceoftheocean.org/static/img/reports/Quality_Issue_1_AROD.pdf</a></p>
</section>
</section>
<section id="hans-storm">
<h2>3. Hans storm<a class="headerlink" href="#hans-storm" title="Permalink to this heading">#</a></h2>
<p><a class="reference external" href="https://www.krisinformation.se/en/hazards-and-risks/disasters-and-incidents/2023/storm-hans">https://www.krisinformation.se/en/hazards-and-risks/disasters-and-incidents/2023/storm-hans</a></p>
<p><a class="reference external" href="https://www.theguardian.com/world/2023/aug/08/storm-hans-causes-havoc-in-norway-with-heaviest-rain-in-25-years-forecast">https://www.theguardian.com/world/2023/aug/08/storm-hans-causes-havoc-in-norway-with-heaviest-rain-in-25-years-forecast</a></p>
<p><a class="reference external" href="https://www.su.se/department-of-geological-sciences/news/hans-is-the-perfect-storm-globalwarming-contributed-1.664948">https://www.su.se/department-of-geological-sciences/news/hans-is-the-perfect-storm-globalwarming-contributed-1.664948</a></p>
<p>During the first week on August 2023 a strong storm hit Sweden and Norway causing big floodings and high water level in multiple areas.</p>
<p>Is it possible to see the effect of the storm on any of the glider data?</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1">## We look for all the glider data avaialble from early July to end of August</span>
<span class="n">name</span><span class="o">=</span><span class="p">[]</span>
<span class="k">for</span> <span class="n">dataset_id</span><span class="p">,</span> <span class="n">meta</span> <span class="ow">in</span> <span class="n">ds_meta</span><span class="o">.</span><span class="n">items</span><span class="p">():</span>
    <span class="k">if</span> <span class="n">meta</span><span class="p">[</span><span class="s1">&#39;deployment_start&#39;</span><span class="p">]</span><span class="o">&gt;</span><span class="s1">&#39;2023-07-01&#39;</span><span class="p">:</span>
        <span class="k">if</span> <span class="n">meta</span><span class="p">[</span><span class="s1">&#39;deployment_start&#39;</span><span class="p">]</span><span class="o">&lt;</span><span class="s1">&#39;2023-09-01&#39;</span><span class="p">:</span>
            <span class="n">name</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">dataset_id</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s1">&#39;Found </span><span class="si">{</span><span class="nb">len</span><span class="p">(</span><span class="n">name</span><span class="p">)</span><span class="si">}</span><span class="s1"> datasets between July 1st 2023 and September 1st 2023: </span><span class="si">{</span><span class="n">name</span><span class="si">}</span><span class="s1">&#39;</span><span class="p">)</span>
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">ds_nrt</span> <span class="o">=</span> <span class="n">utils</span><span class="o">.</span><span class="n">download_glider_dataset</span><span class="p">(</span><span class="n">name</span><span class="p">,</span> <span class="n">nrt_only</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1">## We want to see where the data  is from and get a bit more info summarized</span>
<span class="n">table</span><span class="o">=</span><span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">(</span><span class="n">columns</span> <span class="o">=</span> <span class="p">[</span><span class="s1">&#39;Glider&#39;</span><span class="p">,</span><span class="s1">&#39;Location&#39;</span><span class="p">,</span><span class="s1">&#39;Mission&#39;</span><span class="p">,</span><span class="s1">&#39;Start_Date&#39;</span><span class="p">])</span>
<span class="n">missions</span><span class="o">=</span><span class="n">name</span>
<span class="n">dic</span><span class="o">=</span><span class="n">ds_nrt</span>
<span class="n">table</span><span class="o">.</span><span class="n">Mission</span><span class="o">=</span> <span class="nb">range</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span><span class="nb">len</span><span class="p">(</span><span class="n">missions</span><span class="p">))</span>
    
<span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="n">missions</span><span class="p">)):</span> 
    <span class="n">d</span><span class="o">=</span><span class="n">dic</span><span class="p">[</span><span class="n">missions</span><span class="p">[</span><span class="n">i</span><span class="p">]]</span>
    <span class="n">table</span><span class="o">.</span><span class="n">loc</span><span class="p">[</span><span class="n">i</span><span class="p">,</span> <span class="s1">&#39;Glider&#39;</span><span class="p">]</span><span class="o">=</span><span class="sa">f</span><span class="s1">&#39;SEA0</span><span class="si">{</span><span class="nb">int</span><span class="p">(</span><span class="n">d</span><span class="o">.</span><span class="n">attrs</span><span class="p">[</span><span class="s2">&quot;glider_serial&quot;</span><span class="p">])</span><span class="si">}</span><span class="s1">&#39;</span>
    <span class="n">table</span><span class="o">.</span><span class="n">loc</span><span class="p">[</span><span class="n">i</span><span class="p">,</span><span class="s1">&#39;Mission&#39;</span><span class="p">]</span><span class="o">=</span><span class="nb">int</span><span class="p">(</span><span class="n">d</span><span class="o">.</span><span class="n">attrs</span><span class="p">[</span><span class="s2">&quot;deployment_id&quot;</span><span class="p">])</span>
    <span class="n">table</span><span class="o">.</span><span class="n">loc</span><span class="p">[</span><span class="n">i</span><span class="p">,</span> <span class="s1">&#39;Start_Date&#39;</span><span class="p">]</span><span class="o">=</span><span class="n">d</span><span class="o">.</span><span class="n">attrs</span><span class="p">[</span><span class="s2">&quot;deployment_start&quot;</span><span class="p">][:</span><span class="mi">10</span><span class="p">]</span>
    <span class="n">table</span><span class="o">.</span><span class="n">loc</span><span class="p">[</span><span class="n">i</span><span class="p">,</span><span class="s1">&#39;Location&#39;</span><span class="p">]</span><span class="o">=</span><span class="n">d</span><span class="o">.</span><span class="n">attrs</span><span class="p">[</span><span class="s2">&quot;basin&quot;</span><span class="p">]</span>


<span class="n">table</span><span class="o">.</span><span class="n">sort_values</span><span class="p">(</span><span class="n">by</span><span class="o">=</span><span class="p">[</span><span class="s2">&quot;Start_Date&quot;</span><span class="p">],</span> <span class="n">ascending</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s1">&#39;We have data from </span><span class="si">{</span><span class="nb">len</span><span class="p">(</span><span class="n">table</span><span class="o">.</span><span class="n">Location</span><span class="o">.</span><span class="n">unique</span><span class="p">())</span><span class="si">}</span><span class="s1"> different sites during this period: </span><span class="si">{</span><span class="n">table</span><span class="o">.</span><span class="n">Location</span><span class="o">.</span><span class="n">unique</span><span class="p">()</span><span class="si">}</span><span class="s1">&#39;</span><span class="p">)</span>
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># We can try to plot data and see if anything is visible in any of the 4 areas</span>
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="k">def</span> <span class="nf">plot_sel_data</span><span class="p">(</span><span class="n">basin</span><span class="o">=</span><span class="s1">&#39;Bornholm&#39;</span><span class="p">,</span> <span class="n">date_start</span><span class="o">=</span><span class="s1">&#39;2023-07-01&#39;</span><span class="p">,</span> <span class="n">date_end</span><span class="o">=</span><span class="s1">&#39;2023-09-01&#39;</span><span class="p">,</span> <span class="n">rectangle</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span>  <span class="n">delayed</span> <span class="o">=</span> <span class="kc">False</span><span class="p">):</span>
    
    <span class="n">name</span><span class="o">=</span><span class="p">[]</span>
    <span class="k">for</span> <span class="n">dataset_id</span><span class="p">,</span> <span class="n">meta</span> <span class="ow">in</span> <span class="n">ds_meta</span><span class="o">.</span><span class="n">items</span><span class="p">():</span>
        <span class="k">if</span> <span class="n">meta</span><span class="p">[</span><span class="s1">&#39;deployment_start&#39;</span><span class="p">]</span><span class="o">&gt;</span><span class="n">date_start</span><span class="p">:</span>
            <span class="k">if</span> <span class="n">meta</span><span class="p">[</span><span class="s1">&#39;deployment_start&#39;</span><span class="p">]</span><span class="o">&lt;</span><span class="n">date_end</span><span class="p">:</span>
                <span class="k">if</span> <span class="n">basin</span> <span class="ow">in</span> <span class="n">meta</span><span class="p">[</span><span class="s1">&#39;basin&#39;</span><span class="p">]:</span>
                    <span class="k">if</span> <span class="s1">&#39;SAMBA&#39;</span> <span class="ow">in</span> <span class="n">meta</span><span class="p">[</span><span class="s1">&#39;project&#39;</span><span class="p">]:</span>
                        <span class="k">if</span> <span class="n">delayed</span> <span class="o">==</span> <span class="kc">True</span><span class="p">:</span>
                            <span class="n">name</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="sa">f</span><span class="s1">&#39;delayed</span><span class="si">{</span><span class="n">dataset_id</span><span class="p">[</span><span class="mi">3</span><span class="p">:]</span><span class="si">}</span><span class="s1">&#39;</span><span class="p">)</span>
                        <span class="k">else</span><span class="p">:</span>
                            <span class="n">name</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">dataset_id</span><span class="p">)</span>
    
        
    <span class="n">ds_nrt</span> <span class="o">=</span> <span class="n">utils</span><span class="o">.</span><span class="n">download_glider_dataset</span><span class="p">(</span><span class="n">name</span><span class="p">,</span> <span class="n">nrt_only</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span>
    
    <span class="n">full_data</span> <span class="o">=</span> <span class="p">[]</span>
    <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="n">name</span><span class="p">)):</span>
        <span class="n">full_data</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">ds_nrt</span><span class="p">[</span><span class="n">name</span><span class="p">[</span><span class="n">i</span><span class="p">]])</span>
    <span class="n">full_data</span> <span class="o">=</span> <span class="n">xr</span><span class="o">.</span><span class="n">concat</span><span class="p">(</span><span class="n">full_data</span><span class="p">,</span> <span class="n">dim</span><span class="o">=</span> <span class="s1">&#39;time&#39;</span><span class="p">)</span>
    
    <span class="n">fig</span><span class="p">,</span> <span class="n">ax</span> <span class="o">=</span> <span class="n">plt</span><span class="o">.</span><span class="n">subplots</span><span class="p">(</span><span class="mi">5</span><span class="p">,</span><span class="mi">1</span><span class="p">,</span><span class="n">figsize</span><span class="o">=</span><span class="p">(</span><span class="mi">20</span><span class="p">,</span> <span class="mi">15</span><span class="p">),</span> <span class="n">sharex</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
    
    <span class="n">time</span><span class="o">=</span><span class="n">mdates</span><span class="o">.</span><span class="n">date2num</span><span class="p">(</span><span class="n">full_data</span><span class="o">.</span><span class="n">time</span><span class="p">)</span>
    <span class="n">t</span><span class="o">=</span><span class="n">ax</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">scatter</span><span class="p">(</span> <span class="n">time</span><span class="p">,</span><span class="n">full_data</span><span class="o">.</span><span class="n">depth</span><span class="p">,</span> <span class="n">c</span><span class="o">=</span><span class="n">full_data</span><span class="o">.</span><span class="n">temperature</span><span class="p">,</span><span class="n">s</span><span class="o">=</span><span class="mi">20</span><span class="p">,</span> <span class="n">cmap</span><span class="o">=</span><span class="n">cmo</span><span class="o">.</span><span class="n">thermal</span><span class="p">,</span> <span class="n">vmin</span><span class="o">=</span><span class="n">np</span><span class="o">.</span><span class="n">nanpercentile</span><span class="p">(</span><span class="n">full_data</span><span class="o">.</span><span class="n">temperature</span><span class="p">,</span> <span class="mf">0.5</span><span class="p">),</span> <span class="n">vmax</span><span class="o">=</span><span class="n">np</span><span class="o">.</span><span class="n">nanpercentile</span><span class="p">(</span><span class="n">full_data</span><span class="o">.</span><span class="n">temperature</span><span class="p">,</span> <span class="mf">99.5</span><span class="p">))</span>
    <span class="n">s</span><span class="o">=</span><span class="n">ax</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span><span class="o">.</span><span class="n">scatter</span><span class="p">(</span> <span class="n">time</span><span class="p">,</span><span class="n">full_data</span><span class="o">.</span><span class="n">depth</span><span class="p">,</span> <span class="n">c</span><span class="o">=</span><span class="n">full_data</span><span class="o">.</span><span class="n">salinity</span><span class="p">,</span><span class="n">s</span><span class="o">=</span><span class="mi">20</span><span class="p">,</span><span class="n">cmap</span><span class="o">=</span><span class="n">cmo</span><span class="o">.</span><span class="n">haline</span><span class="p">,</span> <span class="n">vmin</span><span class="o">=</span><span class="n">np</span><span class="o">.</span><span class="n">nanpercentile</span><span class="p">(</span><span class="n">full_data</span><span class="o">.</span><span class="n">salinity</span><span class="p">,</span> <span class="mf">0.5</span><span class="p">),</span> <span class="n">vmax</span><span class="o">=</span><span class="n">np</span><span class="o">.</span><span class="n">nanpercentile</span><span class="p">(</span><span class="n">full_data</span><span class="o">.</span><span class="n">salinity</span><span class="p">,</span> <span class="mf">99.5</span><span class="p">))</span>
    <span class="n">d</span><span class="o">=</span><span class="n">ax</span><span class="p">[</span><span class="mi">2</span><span class="p">]</span><span class="o">.</span><span class="n">scatter</span><span class="p">(</span> <span class="n">time</span><span class="p">,</span><span class="n">full_data</span><span class="o">.</span><span class="n">depth</span><span class="p">,</span> <span class="n">c</span><span class="o">=</span><span class="n">full_data</span><span class="o">.</span><span class="n">density</span><span class="p">,</span> <span class="n">s</span><span class="o">=</span><span class="mi">20</span><span class="p">,</span> <span class="n">cmap</span><span class="o">=</span><span class="n">cmo</span><span class="o">.</span><span class="n">dense</span><span class="p">,</span> <span class="n">vmin</span><span class="o">=</span><span class="n">np</span><span class="o">.</span><span class="n">nanpercentile</span><span class="p">(</span><span class="n">full_data</span><span class="o">.</span><span class="n">density</span><span class="p">,</span> <span class="mf">0.5</span><span class="p">),</span> <span class="n">vmax</span><span class="o">=</span><span class="n">np</span><span class="o">.</span><span class="n">nanpercentile</span><span class="p">(</span><span class="n">full_data</span><span class="o">.</span><span class="n">density</span><span class="p">,</span> <span class="mf">99.5</span><span class="p">))</span>
    <span class="n">o</span><span class="o">=</span><span class="n">ax</span><span class="p">[</span><span class="mi">3</span><span class="p">]</span><span class="o">.</span><span class="n">scatter</span><span class="p">(</span> <span class="n">time</span><span class="p">,</span><span class="n">full_data</span><span class="o">.</span><span class="n">depth</span><span class="p">,</span> <span class="n">c</span><span class="o">=</span><span class="n">full_data</span><span class="o">.</span><span class="n">oxygen_concentration</span><span class="p">,</span> <span class="n">s</span><span class="o">=</span><span class="mi">20</span><span class="p">,</span><span class="n">vmin</span><span class="o">=</span><span class="n">np</span><span class="o">.</span><span class="n">nanpercentile</span><span class="p">(</span><span class="n">full_data</span><span class="o">.</span><span class="n">oxygen_concentration</span><span class="p">,</span> <span class="mf">0.5</span><span class="p">),</span> <span class="n">vmax</span><span class="o">=</span><span class="n">np</span><span class="o">.</span><span class="n">nanpercentile</span><span class="p">(</span><span class="n">full_data</span><span class="o">.</span><span class="n">oxygen_concentration</span><span class="p">,</span> <span class="mf">99.5</span><span class="p">))</span>
    <span class="n">c</span><span class="o">=</span><span class="n">ax</span><span class="p">[</span><span class="mi">4</span><span class="p">]</span><span class="o">.</span><span class="n">scatter</span><span class="p">(</span> <span class="n">time</span><span class="p">,</span><span class="n">full_data</span><span class="o">.</span><span class="n">depth</span><span class="p">,</span> <span class="n">c</span><span class="o">=</span><span class="n">full_data</span><span class="o">.</span><span class="n">chlorophyll</span><span class="p">,</span> <span class="n">s</span><span class="o">=</span><span class="mi">20</span><span class="p">,</span> <span class="n">cmap</span><span class="o">=</span><span class="n">cmo</span><span class="o">.</span><span class="n">algae</span><span class="p">,</span> <span class="n">vmin</span><span class="o">=</span><span class="n">np</span><span class="o">.</span><span class="n">nanpercentile</span><span class="p">(</span><span class="n">full_data</span><span class="o">.</span><span class="n">chlorophyll</span><span class="p">,</span> <span class="mf">0.5</span><span class="p">),</span> <span class="n">vmax</span><span class="o">=</span><span class="n">np</span><span class="o">.</span><span class="n">nanpercentile</span><span class="p">(</span><span class="n">full_data</span><span class="o">.</span><span class="n">chlorophyll</span><span class="p">,</span> <span class="mf">99.5</span><span class="p">))</span>
    
    <span class="c1"># Highlight storm period</span>
    <span class="k">if</span> <span class="n">rectangle</span><span class="p">:</span>
        <span class="k">for</span> <span class="n">a</span> <span class="ow">in</span> <span class="n">ax</span><span class="p">:</span> 
            <span class="n">rect</span> <span class="o">=</span> <span class="n">patches</span><span class="o">.</span><span class="n">Rectangle</span><span class="p">((</span><span class="nb">int</span><span class="p">(</span><span class="n">mdates</span><span class="o">.</span><span class="n">date2num</span><span class="p">([</span><span class="s1">&#39;2023-08-07&#39;</span><span class="p">])[</span><span class="mi">0</span><span class="p">]),</span> <span class="nb">int</span><span class="p">(</span><span class="n">full_data</span><span class="o">.</span><span class="n">depth</span><span class="o">.</span><span class="n">max</span><span class="p">())),</span> <span class="mi">5</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="n">linewidth</span><span class="o">=</span><span class="mi">5</span><span class="p">,</span> <span class="n">edgecolor</span><span class="o">=</span><span class="s1">&#39;r&#39;</span><span class="p">,</span> <span class="n">facecolor</span><span class="o">=</span><span class="s1">&#39;red&#39;</span><span class="p">,</span> <span class="n">fill</span><span class="o">=</span><span class="s1">&#39;red&#39;</span><span class="p">)</span>
            <span class="n">a</span><span class="o">.</span><span class="n">add_patch</span><span class="p">(</span><span class="n">rect</span><span class="p">)</span> 
    
    <span class="p">[</span><span class="n">a</span><span class="o">.</span><span class="n">set_ylim</span><span class="p">(</span><span class="nb">int</span><span class="p">(</span><span class="n">full_data</span><span class="o">.</span><span class="n">depth</span><span class="o">.</span><span class="n">max</span><span class="p">())</span><span class="o">+</span><span class="mi">5</span><span class="p">,</span><span class="o">-</span><span class="mi">10</span><span class="p">)</span> <span class="k">for</span> <span class="n">a</span> <span class="ow">in</span> <span class="n">ax</span><span class="p">]</span>
    <span class="p">[</span><span class="n">a</span><span class="o">.</span><span class="n">grid</span><span class="p">()</span> <span class="k">for</span> <span class="n">a</span> <span class="ow">in</span> <span class="n">ax</span><span class="p">]</span>

    <span class="n">ax</span><span class="p">[</span><span class="mi">4</span><span class="p">]</span><span class="o">.</span><span class="n">xaxis</span><span class="o">.</span><span class="n">set_major_formatter</span><span class="p">(</span><span class="n">mdates</span><span class="o">.</span><span class="n">DateFormatter</span><span class="p">(</span><span class="s1">&#39;%Y-%m-</span><span class="si">%d</span><span class="s1">&#39;</span><span class="p">))</span>
    <span class="n">ax</span><span class="p">[</span><span class="mi">4</span><span class="p">]</span><span class="o">.</span><span class="n">locator_params</span><span class="p">(</span><span class="n">axis</span><span class="o">=</span><span class="s1">&#39;x&#39;</span><span class="p">,</span> <span class="n">nbins</span><span class="o">=</span><span class="mi">8</span><span class="p">)</span> 
    
    <span class="n">cbarT</span><span class="o">=</span><span class="n">plt</span><span class="o">.</span><span class="n">colorbar</span><span class="p">(</span><span class="n">t</span><span class="p">,</span> <span class="n">ax</span><span class="o">=</span><span class="n">ax</span><span class="p">[</span><span class="mi">0</span><span class="p">],</span> <span class="n">pad</span> <span class="o">=</span> <span class="mf">0.03</span><span class="p">)</span>
    <span class="n">cbarT</span><span class="o">.</span><span class="n">set_label</span><span class="p">(</span><span class="s1">&#39;Potential </span><span class="se">\n</span><span class="s1">Temperature </span><span class="se">\n</span><span class="s1">(°C)&#39;</span><span class="p">,</span><span class="n">labelpad</span><span class="o">=</span><span class="mi">70</span><span class="p">,</span> <span class="n">y</span><span class="o">=</span><span class="mf">0.5</span><span class="p">,</span> <span class="n">rotation</span><span class="o">=</span><span class="mi">270</span><span class="p">,</span><span class="n">fontsize</span><span class="o">=</span><span class="mi">18</span><span class="p">)</span>
    <span class="n">cbarS</span><span class="o">=</span><span class="n">plt</span><span class="o">.</span><span class="n">colorbar</span><span class="p">(</span><span class="n">s</span><span class="p">,</span> <span class="n">ax</span><span class="o">=</span><span class="n">ax</span><span class="p">[</span><span class="mi">1</span><span class="p">],</span> <span class="n">pad</span> <span class="o">=</span> <span class="mf">0.03</span><span class="p">)</span>
    <span class="n">cbarS</span><span class="o">.</span><span class="n">set_label</span><span class="p">(</span><span class="s1">&#39;Absolute </span><span class="se">\n</span><span class="s1">Salinity </span><span class="se">\n</span><span class="s1">(g kg$^{-1}$)&#39;</span><span class="p">,</span><span class="n">labelpad</span><span class="o">=</span><span class="mi">70</span><span class="p">,</span> <span class="n">y</span><span class="o">=</span><span class="mf">0.5</span><span class="p">,</span> <span class="n">rotation</span><span class="o">=</span><span class="mi">270</span><span class="p">,</span><span class="n">fontsize</span><span class="o">=</span><span class="mi">18</span><span class="p">)</span>
    <span class="n">cbarD</span><span class="o">=</span><span class="n">plt</span><span class="o">.</span><span class="n">colorbar</span><span class="p">(</span><span class="n">d</span><span class="p">,</span> <span class="n">ax</span><span class="o">=</span><span class="n">ax</span><span class="p">[</span><span class="mi">2</span><span class="p">],</span> <span class="n">pad</span> <span class="o">=</span> <span class="mf">0.03</span><span class="p">)</span>
    <span class="n">cbarD</span><span class="o">.</span><span class="n">set_label</span><span class="p">(</span><span class="s1">&#39;Potential </span><span class="se">\n</span><span class="s1">Density </span><span class="se">\n</span><span class="s1">(kg m$^{-3}$)&#39;</span><span class="p">,</span><span class="n">labelpad</span><span class="o">=</span><span class="mi">70</span><span class="p">,</span> <span class="n">y</span><span class="o">=</span><span class="mf">0.5</span><span class="p">,</span> <span class="n">rotation</span><span class="o">=</span><span class="mi">270</span><span class="p">,</span><span class="n">fontsize</span><span class="o">=</span><span class="mi">18</span><span class="p">)</span>
    <span class="n">cbarO</span><span class="o">=</span><span class="n">plt</span><span class="o">.</span><span class="n">colorbar</span><span class="p">(</span><span class="n">o</span><span class="p">,</span> <span class="n">ax</span><span class="o">=</span><span class="n">ax</span><span class="p">[</span><span class="mi">3</span><span class="p">],</span> <span class="n">pad</span> <span class="o">=</span> <span class="mf">0.03</span><span class="p">)</span>
    <span class="n">cbarO</span><span class="o">.</span><span class="n">set_label</span><span class="p">(</span><span class="s1">&#39;Oxygen </span><span class="se">\n</span><span class="s1">concentration </span><span class="se">\n</span><span class="s1">(mmol m$^{-3}$)&#39;</span><span class="p">,</span><span class="n">labelpad</span><span class="o">=</span><span class="mi">70</span><span class="p">,</span> <span class="n">y</span><span class="o">=</span><span class="mf">0.5</span><span class="p">,</span> <span class="n">rotation</span><span class="o">=</span><span class="mi">270</span><span class="p">,</span><span class="n">fontsize</span><span class="o">=</span><span class="mi">18</span><span class="p">)</span>
    <span class="n">cbarC</span><span class="o">=</span><span class="n">plt</span><span class="o">.</span><span class="n">colorbar</span><span class="p">(</span><span class="n">c</span><span class="p">,</span> <span class="n">ax</span><span class="o">=</span><span class="n">ax</span><span class="p">[</span><span class="mi">4</span><span class="p">],</span> <span class="n">pad</span> <span class="o">=</span> <span class="mf">0.03</span><span class="p">)</span>
    <span class="n">cbarC</span><span class="o">.</span><span class="n">set_label</span><span class="p">(</span><span class="s1">&#39;Chlorophyll </span><span class="se">\n</span><span class="s1">(mg m$^{-3}$)&#39;</span><span class="p">,</span><span class="n">labelpad</span><span class="o">=</span><span class="mi">70</span><span class="p">,</span> <span class="n">y</span><span class="o">=</span><span class="mf">0.5</span><span class="p">,</span> <span class="n">rotation</span><span class="o">=</span><span class="mi">270</span><span class="p">,</span><span class="n">fontsize</span><span class="o">=</span><span class="mi">18</span><span class="p">)</span>
    
    <span class="p">[</span><span class="n">a</span><span class="o">.</span><span class="n">tick_params</span><span class="p">(</span><span class="n">axis</span><span class="o">=</span><span class="s1">&#39;both&#39;</span><span class="p">,</span> <span class="n">which</span><span class="o">=</span><span class="s1">&#39;major&#39;</span><span class="p">,</span> <span class="n">labelsize</span><span class="o">=</span><span class="mi">18</span><span class="p">)</span> <span class="k">for</span> <span class="n">a</span> <span class="ow">in</span> <span class="n">ax</span><span class="p">]</span>
    <span class="p">[</span><span class="n">a</span><span class="o">.</span><span class="n">set_ylabel</span><span class="p">(</span><span class="s1">&#39;Depth (m)&#39;</span><span class="p">,</span><span class="n">fontsize</span><span class="o">=</span><span class="mi">18</span><span class="p">)</span> <span class="k">for</span> <span class="n">a</span> <span class="ow">in</span> <span class="n">ax</span><span class="p">]</span>
    
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">plot_sel_data</span><span class="p">(</span><span class="n">basin</span><span class="o">=</span><span class="s1">&#39;Bornholm&#39;</span><span class="p">,</span><span class="n">date_start</span><span class="o">=</span><span class="s1">&#39;2023-07-01&#39;</span><span class="p">,</span> <span class="n">date_end</span><span class="o">=</span><span class="s1">&#39;2023-09-01&#39;</span><span class="p">,)</span>
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">plot_sel_data</span><span class="p">(</span><span class="n">basin</span><span class="o">=</span><span class="s1">&#39;Eastern Gotland&#39;</span><span class="p">,</span><span class="n">date_start</span><span class="o">=</span><span class="s1">&#39;2023-07-01&#39;</span><span class="p">,</span> <span class="n">date_end</span><span class="o">=</span><span class="s1">&#39;2023-09-01&#39;</span><span class="p">)</span>
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">plot_sel_data</span><span class="p">(</span><span class="n">basin</span><span class="o">=</span><span class="s1">&#39;Western Gotland&#39;</span><span class="p">,</span><span class="n">date_start</span><span class="o">=</span><span class="s1">&#39;2023-07-01&#39;</span><span class="p">,</span> <span class="n">date_end</span><span class="o">=</span><span class="s1">&#39;2023-09-01&#39;</span><span class="p">)</span>
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">plot_sel_data</span><span class="p">(</span><span class="n">basin</span><span class="o">=</span><span class="s1">&#39;Kattegat&#39;</span><span class="p">,</span> <span class="n">date_start</span><span class="o">=</span><span class="s1">&#39;2023-07-01&#39;</span><span class="p">,</span> <span class="n">date_end</span><span class="o">=</span><span class="s1">&#39;2023-09-01&#39;</span><span class="p">)</span>
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1">## Temperature and salinity for Western Gotland looks weird, let#s check if we see issues in the delayed mode data as well</span>
<span class="n">plot_sel_data</span><span class="p">(</span><span class="n">basin</span><span class="o">=</span><span class="s1">&#39;Western Gotland&#39;</span><span class="p">,</span><span class="n">date_start</span><span class="o">=</span><span class="s1">&#39;2023-07-01&#39;</span><span class="p">,</span> <span class="n">date_end</span><span class="o">=</span><span class="s1">&#39;2023-09-01&#39;</span><span class="p">,</span> <span class="n">delayed</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
</pre></div>
</div>
</div>
</div>
</section>
<section id="spring-blooms">
<h2>4. Spring blooms<a class="headerlink" href="#spring-blooms" title="Permalink to this heading">#</a></h2>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">plot_sel_data</span><span class="p">(</span><span class="n">basin</span><span class="o">=</span><span class="s1">&#39;Bornholm&#39;</span><span class="p">,</span><span class="n">date_start</span><span class="o">=</span><span class="s1">&#39;2023-01-01&#39;</span><span class="p">,</span> <span class="n">date_end</span><span class="o">=</span><span class="s1">&#39;2024-01-01&#39;</span><span class="p">,</span><span class="n">rectangle</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span>
</pre></div>
</div>
</div>
</div>
<section id="id1">
<h3>Info<a class="headerlink" href="#id1" title="Permalink to this heading">#</a></h3>
<p>There are issues with some of the oxygen data and more info can be found here <a class="reference external" href="https://observations.voiceoftheocean.org/static/img/reports/Quality_Issue_1_AROD.pdf">https://observations.voiceoftheocean.org/static/img/reports/Quality_Issue_1_AROD.pdf</a></p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">plot_sel_data</span><span class="p">(</span><span class="n">basin</span><span class="o">=</span><span class="s1">&#39;Eastern Gotland&#39;</span><span class="p">,</span><span class="n">date_start</span><span class="o">=</span><span class="s1">&#39;2023-01-01&#39;</span><span class="p">,</span> <span class="n">date_end</span><span class="o">=</span><span class="s1">&#39;2024-01-01&#39;</span><span class="p">,</span><span class="n">rectangle</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span>
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">plot_sel_data</span><span class="p">(</span><span class="n">basin</span><span class="o">=</span><span class="s1">&#39;Skagerrak&#39;</span><span class="p">,</span><span class="n">date_start</span><span class="o">=</span><span class="s1">&#39;2023-01-01&#39;</span><span class="p">,</span> <span class="n">date_end</span><span class="o">=</span><span class="s1">&#39;2024-01-01&#39;</span><span class="p">,</span><span class="n">rectangle</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span>
</pre></div>
</div>
</div>
</div>
</section>
</section>
<section id="specific-data-with-issues">
<h2>5. Specific data with issues<a class="headerlink" href="#specific-data-with-issues" title="Permalink to this heading">#</a></h2>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># SEA070 with pumped SeaBird CTD</span>
<span class="n">name</span> <span class="o">=</span> <span class="p">[</span><span class="s1">&#39;delayed_SEA070_M15&#39;</span><span class="p">,</span> <span class="s1">&#39;delayed_SEA070_M15&#39;</span><span class="p">]</span>
<span class="n">ds_delayed</span> <span class="o">=</span> <span class="n">utils</span><span class="o">.</span><span class="n">download_glider_dataset</span><span class="p">(</span><span class="n">name</span><span class="p">,</span> <span class="n">nrt_only</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span>
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">full_data</span> <span class="o">=</span> <span class="p">[]</span>
<span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="n">name</span><span class="p">)):</span>
    <span class="n">full_data</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">ds_delayed</span><span class="p">[</span><span class="n">name</span><span class="p">[</span><span class="n">i</span><span class="p">]])</span>
<span class="n">full_data</span> <span class="o">=</span> <span class="n">xr</span><span class="o">.</span><span class="n">concat</span><span class="p">(</span><span class="n">full_data</span><span class="p">,</span> <span class="n">dim</span><span class="o">=</span> <span class="s1">&#39;time&#39;</span><span class="p">)</span>

<span class="n">fig</span><span class="p">,</span> <span class="n">ax</span> <span class="o">=</span> <span class="n">plt</span><span class="o">.</span><span class="n">subplots</span><span class="p">(</span><span class="mi">5</span><span class="p">,</span><span class="mi">1</span><span class="p">,</span><span class="n">figsize</span><span class="o">=</span><span class="p">(</span><span class="mi">20</span><span class="p">,</span> <span class="mi">15</span><span class="p">),</span> <span class="n">sharex</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
<span class="n">matplotlib</span><span class="o">.</span><span class="n">rcParams</span><span class="o">.</span><span class="n">update</span><span class="p">({</span><span class="s1">&#39;font.size&#39;</span><span class="p">:</span> <span class="mi">18</span><span class="p">})</span>
<span class="n">time</span><span class="o">=</span><span class="n">mdates</span><span class="o">.</span><span class="n">date2num</span><span class="p">(</span><span class="n">full_data</span><span class="o">.</span><span class="n">time</span><span class="p">)</span>
<span class="n">t</span><span class="o">=</span><span class="n">ax</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">scatter</span><span class="p">(</span> <span class="n">time</span><span class="p">,</span><span class="n">full_data</span><span class="o">.</span><span class="n">depth</span><span class="p">,</span> <span class="n">c</span><span class="o">=</span><span class="n">full_data</span><span class="o">.</span><span class="n">temperature</span><span class="p">,</span><span class="n">s</span><span class="o">=</span><span class="mi">20</span><span class="p">,</span> <span class="n">cmap</span><span class="o">=</span><span class="n">cmo</span><span class="o">.</span><span class="n">thermal</span><span class="p">,</span> <span class="n">vmin</span><span class="o">=</span><span class="n">np</span><span class="o">.</span><span class="n">nanpercentile</span><span class="p">(</span><span class="n">full_data</span><span class="o">.</span><span class="n">temperature</span><span class="p">,</span> <span class="mf">0.5</span><span class="p">),</span> <span class="n">vmax</span><span class="o">=</span><span class="n">np</span><span class="o">.</span><span class="n">nanpercentile</span><span class="p">(</span><span class="n">full_data</span><span class="o">.</span><span class="n">temperature</span><span class="p">,</span> <span class="mf">99.5</span><span class="p">))</span>
<span class="n">s</span><span class="o">=</span><span class="n">ax</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span><span class="o">.</span><span class="n">scatter</span><span class="p">(</span> <span class="n">time</span><span class="p">,</span><span class="n">full_data</span><span class="o">.</span><span class="n">depth</span><span class="p">,</span> <span class="n">c</span><span class="o">=</span><span class="n">full_data</span><span class="o">.</span><span class="n">salinity</span><span class="p">,</span><span class="n">s</span><span class="o">=</span><span class="mi">20</span><span class="p">,</span><span class="n">cmap</span><span class="o">=</span><span class="n">cmo</span><span class="o">.</span><span class="n">haline</span><span class="p">,</span> <span class="n">vmin</span><span class="o">=</span><span class="n">np</span><span class="o">.</span><span class="n">nanpercentile</span><span class="p">(</span><span class="n">full_data</span><span class="o">.</span><span class="n">salinity</span><span class="p">,</span> <span class="mf">0.5</span><span class="p">),</span> <span class="n">vmax</span><span class="o">=</span><span class="n">np</span><span class="o">.</span><span class="n">nanpercentile</span><span class="p">(</span><span class="n">full_data</span><span class="o">.</span><span class="n">salinity</span><span class="p">,</span> <span class="mf">99.5</span><span class="p">))</span>
<span class="n">d</span><span class="o">=</span><span class="n">ax</span><span class="p">[</span><span class="mi">2</span><span class="p">]</span><span class="o">.</span><span class="n">scatter</span><span class="p">(</span> <span class="n">time</span><span class="p">,</span><span class="n">full_data</span><span class="o">.</span><span class="n">depth</span><span class="p">,</span> <span class="n">c</span><span class="o">=</span><span class="n">full_data</span><span class="o">.</span><span class="n">density</span><span class="p">,</span> <span class="n">s</span><span class="o">=</span><span class="mi">20</span><span class="p">,</span> <span class="n">cmap</span><span class="o">=</span><span class="n">cmo</span><span class="o">.</span><span class="n">dense</span><span class="p">,</span> <span class="n">vmin</span><span class="o">=</span><span class="n">np</span><span class="o">.</span><span class="n">nanpercentile</span><span class="p">(</span><span class="n">full_data</span><span class="o">.</span><span class="n">density</span><span class="p">,</span> <span class="mf">0.5</span><span class="p">),</span> <span class="n">vmax</span><span class="o">=</span><span class="n">np</span><span class="o">.</span><span class="n">nanpercentile</span><span class="p">(</span><span class="n">full_data</span><span class="o">.</span><span class="n">density</span><span class="p">,</span> <span class="mf">99.5</span><span class="p">))</span>
<span class="n">o</span><span class="o">=</span><span class="n">ax</span><span class="p">[</span><span class="mi">3</span><span class="p">]</span><span class="o">.</span><span class="n">scatter</span><span class="p">(</span> <span class="n">time</span><span class="p">,</span><span class="n">full_data</span><span class="o">.</span><span class="n">depth</span><span class="p">,</span> <span class="n">c</span><span class="o">=</span><span class="n">full_data</span><span class="o">.</span><span class="n">oxygen_frequency</span><span class="p">,</span> <span class="n">s</span><span class="o">=</span><span class="mi">20</span><span class="p">,</span><span class="n">vmin</span><span class="o">=</span><span class="n">np</span><span class="o">.</span><span class="n">nanpercentile</span><span class="p">(</span><span class="n">full_data</span><span class="o">.</span><span class="n">oxygen_frequency</span><span class="p">,</span> <span class="mf">0.5</span><span class="p">),</span> <span class="n">vmax</span><span class="o">=</span><span class="n">np</span><span class="o">.</span><span class="n">nanpercentile</span><span class="p">(</span><span class="n">full_data</span><span class="o">.</span><span class="n">oxygen_frequency</span><span class="p">,</span> <span class="mf">99.5</span><span class="p">))</span>
<span class="n">c</span><span class="o">=</span><span class="n">ax</span><span class="p">[</span><span class="mi">4</span><span class="p">]</span><span class="o">.</span><span class="n">scatter</span><span class="p">(</span> <span class="n">time</span><span class="p">,</span><span class="n">full_data</span><span class="o">.</span><span class="n">depth</span><span class="p">,</span> <span class="n">c</span><span class="o">=</span><span class="n">full_data</span><span class="o">.</span><span class="n">chlorophyll</span><span class="p">,</span> <span class="n">s</span><span class="o">=</span><span class="mi">20</span><span class="p">,</span> <span class="n">cmap</span><span class="o">=</span><span class="n">cmo</span><span class="o">.</span><span class="n">algae</span><span class="p">,</span> <span class="n">vmin</span><span class="o">=</span><span class="n">np</span><span class="o">.</span><span class="n">nanpercentile</span><span class="p">(</span><span class="n">full_data</span><span class="o">.</span><span class="n">chlorophyll</span><span class="p">,</span> <span class="mf">0.5</span><span class="p">),</span> <span class="n">vmax</span><span class="o">=</span><span class="n">np</span><span class="o">.</span><span class="n">nanpercentile</span><span class="p">(</span><span class="n">full_data</span><span class="o">.</span><span class="n">chlorophyll</span><span class="p">,</span> <span class="mf">99.5</span><span class="p">))</span>
    
<span class="p">[</span><span class="n">a</span><span class="o">.</span><span class="n">set_ylim</span><span class="p">(</span><span class="nb">int</span><span class="p">(</span><span class="n">full_data</span><span class="o">.</span><span class="n">depth</span><span class="o">.</span><span class="n">max</span><span class="p">()</span><span class="o">+</span><span class="mi">10</span><span class="p">),</span><span class="o">-</span><span class="mi">10</span><span class="p">)</span> <span class="k">for</span> <span class="n">a</span> <span class="ow">in</span> <span class="n">ax</span><span class="p">]</span>
<span class="p">[</span><span class="n">a</span><span class="o">.</span><span class="n">grid</span><span class="p">()</span> <span class="k">for</span> <span class="n">a</span> <span class="ow">in</span> <span class="n">ax</span><span class="p">]</span>
<span class="n">ax</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span><span class="o">.</span><span class="n">xaxis</span><span class="o">.</span><span class="n">reset_ticks</span><span class="p">()</span>
<span class="n">ax</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span><span class="o">.</span><span class="n">xaxis</span><span class="o">.</span><span class="n">set_major_locator</span><span class="p">(</span><span class="n">mdates</span><span class="o">.</span><span class="n">WeekdayLocator</span><span class="p">(</span><span class="n">byweekday</span> <span class="o">=</span> <span class="mi">1</span><span class="p">,</span> <span class="n">interval</span><span class="o">=</span><span class="mi">3</span><span class="p">))</span>
<span class="n">ax</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span><span class="o">.</span><span class="n">xaxis</span><span class="o">.</span><span class="n">set_major_formatter</span><span class="p">(</span><span class="n">mdates</span><span class="o">.</span><span class="n">DateFormatter</span><span class="p">(</span><span class="s1">&#39;%Y-%m-</span><span class="si">%d</span><span class="s1">&#39;</span><span class="p">))</span>


<span class="n">cbarT</span><span class="o">=</span><span class="n">plt</span><span class="o">.</span><span class="n">colorbar</span><span class="p">(</span><span class="n">t</span><span class="p">,</span> <span class="n">ax</span><span class="o">=</span><span class="n">ax</span><span class="p">[</span><span class="mi">0</span><span class="p">],</span> <span class="n">pad</span> <span class="o">=</span> <span class="mf">0.03</span><span class="p">)</span>
<span class="n">cbarT</span><span class="o">.</span><span class="n">set_label</span><span class="p">(</span><span class="s1">&#39;Potential </span><span class="se">\n</span><span class="s1">Temperature </span><span class="se">\n</span><span class="s1">(°C)&#39;</span><span class="p">,</span><span class="n">labelpad</span><span class="o">=</span><span class="mi">70</span><span class="p">,</span> <span class="n">y</span><span class="o">=</span><span class="mf">0.5</span><span class="p">,</span> <span class="n">rotation</span><span class="o">=</span><span class="mi">270</span><span class="p">,</span><span class="n">fontsize</span><span class="o">=</span><span class="mi">18</span><span class="p">)</span>
<span class="n">cbarS</span><span class="o">=</span><span class="n">plt</span><span class="o">.</span><span class="n">colorbar</span><span class="p">(</span><span class="n">s</span><span class="p">,</span> <span class="n">ax</span><span class="o">=</span><span class="n">ax</span><span class="p">[</span><span class="mi">1</span><span class="p">],</span> <span class="n">pad</span> <span class="o">=</span> <span class="mf">0.03</span><span class="p">)</span>
<span class="n">cbarS</span><span class="o">.</span><span class="n">set_label</span><span class="p">(</span><span class="s1">&#39;Absolute </span><span class="se">\n</span><span class="s1">Salinity </span><span class="se">\n</span><span class="s1">(g kg$^{-1}$)&#39;</span><span class="p">,</span><span class="n">labelpad</span><span class="o">=</span><span class="mi">70</span><span class="p">,</span> <span class="n">y</span><span class="o">=</span><span class="mf">0.5</span><span class="p">,</span> <span class="n">rotation</span><span class="o">=</span><span class="mi">270</span><span class="p">,</span><span class="n">fontsize</span><span class="o">=</span><span class="mi">18</span><span class="p">)</span>
<span class="n">cbarD</span><span class="o">=</span><span class="n">plt</span><span class="o">.</span><span class="n">colorbar</span><span class="p">(</span><span class="n">d</span><span class="p">,</span> <span class="n">ax</span><span class="o">=</span><span class="n">ax</span><span class="p">[</span><span class="mi">2</span><span class="p">],</span> <span class="n">pad</span> <span class="o">=</span> <span class="mf">0.03</span><span class="p">)</span>
<span class="n">cbarD</span><span class="o">.</span><span class="n">set_label</span><span class="p">(</span><span class="s1">&#39;Potential </span><span class="se">\n</span><span class="s1">Density </span><span class="se">\n</span><span class="s1">(kg m$^{-3}$)&#39;</span><span class="p">,</span><span class="n">labelpad</span><span class="o">=</span><span class="mi">70</span><span class="p">,</span> <span class="n">y</span><span class="o">=</span><span class="mf">0.5</span><span class="p">,</span> <span class="n">rotation</span><span class="o">=</span><span class="mi">270</span><span class="p">,</span><span class="n">fontsize</span><span class="o">=</span><span class="mi">18</span><span class="p">)</span>
<span class="n">cbarO</span><span class="o">=</span><span class="n">plt</span><span class="o">.</span><span class="n">colorbar</span><span class="p">(</span><span class="n">o</span><span class="p">,</span> <span class="n">ax</span><span class="o">=</span><span class="n">ax</span><span class="p">[</span><span class="mi">3</span><span class="p">],</span> <span class="n">pad</span> <span class="o">=</span> <span class="mf">0.03</span><span class="p">)</span>
<span class="n">cbarO</span><span class="o">.</span><span class="n">set_label</span><span class="p">(</span><span class="s1">&#39;Oxygen </span><span class="se">\n</span><span class="s1">concentration </span><span class="se">\n</span><span class="s1">(mmol m$^{-3}$)&#39;</span><span class="p">,</span><span class="n">labelpad</span><span class="o">=</span><span class="mi">70</span><span class="p">,</span> <span class="n">y</span><span class="o">=</span><span class="mf">0.5</span><span class="p">,</span> <span class="n">rotation</span><span class="o">=</span><span class="mi">270</span><span class="p">,</span><span class="n">fontsize</span><span class="o">=</span><span class="mi">18</span><span class="p">)</span>
<span class="n">cbarC</span><span class="o">=</span><span class="n">plt</span><span class="o">.</span><span class="n">colorbar</span><span class="p">(</span><span class="n">c</span><span class="p">,</span> <span class="n">ax</span><span class="o">=</span><span class="n">ax</span><span class="p">[</span><span class="mi">4</span><span class="p">],</span> <span class="n">pad</span> <span class="o">=</span> <span class="mf">0.03</span><span class="p">)</span>
<span class="n">cbarC</span><span class="o">.</span><span class="n">set_label</span><span class="p">(</span><span class="s1">&#39;Chlorophyll </span><span class="se">\n</span><span class="s1">(mg m$^{-3}$)&#39;</span><span class="p">,</span><span class="n">labelpad</span><span class="o">=</span><span class="mi">70</span><span class="p">,</span> <span class="n">y</span><span class="o">=</span><span class="mf">0.5</span><span class="p">,</span> <span class="n">rotation</span><span class="o">=</span><span class="mi">270</span><span class="p">,</span><span class="n">fontsize</span><span class="o">=</span><span class="mi">18</span><span class="p">)</span>

<span class="p">[</span><span class="n">a</span><span class="o">.</span><span class="n">tick_params</span><span class="p">(</span><span class="n">axis</span><span class="o">=</span><span class="s1">&#39;both&#39;</span><span class="p">,</span> <span class="n">which</span><span class="o">=</span><span class="s1">&#39;major&#39;</span><span class="p">,</span> <span class="n">labelsize</span><span class="o">=</span><span class="mi">18</span><span class="p">)</span> <span class="k">for</span> <span class="n">a</span> <span class="ow">in</span> <span class="n">ax</span><span class="p">]</span>
<span class="p">[</span><span class="n">a</span><span class="o">.</span><span class="n">set_ylabel</span><span class="p">(</span><span class="s1">&#39;Depth (m)&#39;</span><span class="p">,</span><span class="n">fontsize</span><span class="o">=</span><span class="mi">18</span><span class="p">)</span> <span class="k">for</span> <span class="n">a</span> <span class="ow">in</span> <span class="n">ax</span><span class="p">]</span>
</pre></div>
</div>
</div>
</div>
</section>
<section id="this-is-all-raw-data-and-many-adjustments-have-to-be-applied-and-various-issues-soruces-should-be-considered">
<h2>This is all raw data and many adjustments have to be applied and various issues soruces should be considered<a class="headerlink" href="#this-is-all-raw-data-and-many-adjustments-have-to-be-applied-and-various-issues-soruces-should-be-considered" title="Permalink to this heading">#</a></h2>
<ul class="simple">
<li><p>Thermal hysteresis</p></li>
<li><p>Quenching corrections</p></li>
<li><p>Calibration (ex. optics dark count correction and scaling factor correction, oxygen calibration etc..)</p></li>
<li><p>Electrical spikes</p></li>
<li><p>Outliers</p></li>
<li><p>Sensor failure</p></li>
<li><p>Specific sensor issues (FLBBPC issues, FLBBCD issues, AROD and CODA issues)</p></li>
<li></li>
</ul>
</section>
</section>

    <script type="text/x-thebe-config">
    {
        requestKernel: true,
        binderOptions: {
            repo: "binder-examples/jupyter-stacks-datascience",
            ref: "master",
        },
        codeMirrorConfig: {
            theme: "abcdef",
            mode: "conda-env-seaocn_env-py"
        },
        kernelOptions: {
            name: "conda-env-seaocn_env-py",
            path: "./exercise"
        },
        predefinedOutput: true
    }
    </script>
    <script>kernelName = 'conda-env-seaocn_env-py'</script>

                </article>
              

              
              
              
              
                <footer class="prev-next-footer">
                  
<div class="prev-next-area">
</div>
                </footer>
              
            </div>
            
            
              
                <div class="bd-sidebar-secondary bd-toc"><div class="sidebar-secondary-items sidebar-secondary__inner">

  <div class="sidebar-secondary-item">
  <div class="page-toc tocsection onthispage">
    <i class="fa-solid fa-list"></i> Contents
  </div>
  <nav class="bd-toc-nav page-toc">
    <ul class="visible nav section-nav flex-column">
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#">Working with a new (glider) dataset</a><ul class="visible nav section-nav flex-column">
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#update-your-environment">Update your environment</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#structure-of-this-python-notebook">Structure of this python notebook:</a></li>
</ul>
</li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#erddap-how-to-access-data">0. ERDDAP-How to access data</a><ul class="visible nav section-nav flex-column">
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#got-an-error">Got an error?</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#load-the-metadata">Load the metadata</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#download-the-glider-data">1. Download the glider data</a><ul class="nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#aland-sea-data">Åland sea data</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#inspect-the-data">Inspect the data</a></li>
</ul>
</li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#concatenate-datasets">Concatenate datasets</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#baltic-inflow">2. Baltic inflow</a><ul class="nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#info">Info</a></li>
</ul>
</li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#hans-storm">3. Hans storm</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#spring-blooms">4. Spring blooms</a><ul class="nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#id1">Info</a></li>
</ul>
</li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#specific-data-with-issues">5. Specific data with issues</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#this-is-all-raw-data-and-many-adjustments-have-to-be-applied-and-various-issues-soruces-should-be-considered">This is all raw data and many adjustments have to be applied and various issues soruces should be considered</a></li>
</ul>
</li>
</ul>

  </nav></div>

</div></div>
              
            
          </div>
          <footer class="bd-footer-content">
            
<div class="bd-footer-content__inner container">
  
  <div class="footer-item">
    
<p class="component-author">
By Eleanor Frajka-Williams
</p>

  </div>
  
  <div class="footer-item">
    

  <p class="copyright">
    
      © Copyright 2024.
      <br/>
    
  </p>

  </div>
  
  <div class="footer-item">
    
  </div>
  
  <div class="footer-item">
    
  </div>
  
</div>
          </footer>
        

      </main>
    </div>
  </div>
  
  <!-- Scripts loaded after <body> so the DOM is not blocked -->
  <script src="../_static/scripts/bootstrap.js?digest=5b4479735964841361fd"></script>
<script src="../_static/scripts/pydata-sphinx-theme.js?digest=5b4479735964841361fd"></script>

  <footer class="bd-footer">
  </footer>
  </body>
</html>