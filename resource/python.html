

<!DOCTYPE html>


<html lang="en" data-content_root="" >

  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" /><meta name="generator" content="Docutils 0.17.1: http://docutils.sourceforge.net/" />

    <title>Python &#8212; seaocn</title>
  
  
  
  <script data-cfasync="false">
    document.documentElement.dataset.mode = localStorage.getItem("mode") || "";
    document.documentElement.dataset.theme = localStorage.getItem("theme") || "light";
  </script>
  
  <!-- Loaded before other Sphinx assets -->
  <link href="../_static/styles/theme.css?digest=5b4479735964841361fd" rel="stylesheet" />
<link href="../_static/styles/bootstrap.css?digest=5b4479735964841361fd" rel="stylesheet" />
<link href="../_static/styles/pydata-sphinx-theme.css?digest=5b4479735964841361fd" rel="stylesheet" />

  
  <link href="../_static/vendor/fontawesome/6.1.2/css/all.min.css?digest=5b4479735964841361fd" rel="stylesheet" />
  <link rel="preload" as="font" type="font/woff2" crossorigin href="../_static/vendor/fontawesome/6.1.2/webfonts/fa-solid-900.woff2" />
<link rel="preload" as="font" type="font/woff2" crossorigin href="../_static/vendor/fontawesome/6.1.2/webfonts/fa-brands-400.woff2" />
<link rel="preload" as="font" type="font/woff2" crossorigin href="../_static/vendor/fontawesome/6.1.2/webfonts/fa-regular-400.woff2" />

    <link rel="stylesheet" type="text/css" href="../_static/pygments.css" />
    <link rel="stylesheet" href="../_static/styles/sphinx-book-theme.css?digest=14f4ca6b54d191a8c7657f6c759bf11a5fb86285" type="text/css" />
    <link rel="stylesheet" type="text/css" href="../_static/togglebutton.css" />
    <link rel="stylesheet" type="text/css" href="../_static/copybutton.css" />
    <link rel="stylesheet" type="text/css" href="../_static/mystnb.4510f1fc1dee50b3e5859aac5469c37c29e427902b24a333a5f9fcb2f0b3ac41.css" />
    <link rel="stylesheet" type="text/css" href="../_static/sphinx-thebe.css" />
    <link rel="stylesheet" type="text/css" href="../_static/myfile.css" />
    <link rel="stylesheet" type="text/css" href="../_static/design-style.4045f2051d55cab465a707391d5b2007.min.css" />
  
  <!-- Pre-loaded scripts that we'll load fully later -->
  <link rel="preload" as="script" href="../_static/scripts/bootstrap.js?digest=5b4479735964841361fd" />
<link rel="preload" as="script" href="../_static/scripts/pydata-sphinx-theme.js?digest=5b4479735964841361fd" />
  <script src="../_static/vendor/fontawesome/6.1.2/js/all.min.js?digest=5b4479735964841361fd"></script>

    <script data-url_root="../" id="documentation_options" src="../_static/documentation_options.js"></script>
    <script src="../_static/jquery.js"></script>
    <script src="../_static/underscore.js"></script>
    <script src="../_static/_sphinx_javascript_frameworks_compat.js"></script>
    <script src="../_static/doctools.js"></script>
    <script src="../_static/clipboard.min.js"></script>
    <script src="../_static/copybutton.js"></script>
    <script src="../_static/scripts/sphinx-book-theme.js?digest=5a5c038af52cf7bc1a1ec88eea08e6366ee68824"></script>
    <script>let toggleHintShow = 'Click to show';</script>
    <script>let toggleHintHide = 'Click to hide';</script>
    <script>let toggleOpenOnPrint = 'true';</script>
    <script src="../_static/togglebutton.js"></script>
    <script>var togglebuttonSelector = '.toggle, .admonition.dropdown';</script>
    <script src="../_static/design-tabs.js"></script>
    <script>const THEBE_JS_URL = "https://unpkg.com/thebe@0.8.2/lib/index.js"
const thebe_selector = ".thebe,.cell"
const thebe_selector_input = "pre"
const thebe_selector_output = ".output, .cell_output"
</script>
    <script async="async" src="../_static/sphinx-thebe.js"></script>
    <script>DOCUMENTATION_OPTIONS.pagename = 'resource/python';</script>
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
    <link rel="next" title="Running Python (Windows)" href="running-python.html" />
    <link rel="prev" title="Git for sharing &amp; versioning" href="git.html" />
  <meta name="viewport" content="width=device-width, initial-scale=1"/>
  <meta name="docsearch:language" content="en"/>
  </head>
  
  
  <body data-bs-spy="scroll" data-bs-target=".bd-toc-nav" data-offset="180" data-bs-root-margin="0px 0px -60%" data-default-mode="">

  
  
  <a class="skip-link" href="#main-content">Skip to main content</a>
  
  <div id="pst-scroll-pixel-helper"></div>

  
  <button type="button" class="btn rounded-pill" id="pst-back-to-top">
    <i class="fa-solid fa-arrow-up"></i>
    Back to top
  </button>

  
  <input type="checkbox"
          class="sidebar-toggle"
          name="__primary"
          id="__primary"/>
  <label class="overlay overlay-primary" for="__primary"></label>
  
  <input type="checkbox"
          class="sidebar-toggle"
          name="__secondary"
          id="__secondary"/>
  <label class="overlay overlay-secondary" for="__secondary"></label>
  
  <div class="search-button__wrapper">
    <div class="search-button__overlay"></div>
    <div class="search-button__search-container">
<form class="bd-search d-flex align-items-center"
      action="../search.html"
      method="get">
  <i class="fa-solid fa-magnifying-glass"></i>
  <input type="search"
         class="form-control"
         name="q"
         id="search-input"
         placeholder="Search this book..."
         aria-label="Search this book..."
         autocomplete="off"
         autocorrect="off"
         autocapitalize="off"
         spellcheck="false"/>
  <span class="search-button__kbd-shortcut"><kbd class="kbd-shortcut__modifier">Ctrl</kbd>+<kbd>K</kbd></span>
</form></div>
  </div>
  
    <nav class="bd-header navbar navbar-expand-lg bd-navbar">
    </nav>
  
  <div class="bd-container">
    <div class="bd-container__inner bd-page-width">
      
      <div class="bd-sidebar-primary bd-sidebar">
        

  
  <div class="sidebar-header-items sidebar-primary__section">
    
    
    
    
  </div>
  
    <div class="sidebar-primary-items__start sidebar-primary__section">
        <div class="sidebar-primary-item">

  

<a class="navbar-brand logo" href="../intro.html">
  
  
  
  
  
    
    
      
    
    
    <img src="../_static/logo.png" class="logo__image only-light" alt="seaocn - Home"/>
    <script>document.write(`<img src="../_static/logo.png" class="logo__image only-dark" alt="seaocn - Home"/>`);</script>
  
  
</a></div>
        <div class="sidebar-primary-item"><nav class="bd-links" id="bd-docs-nav" aria-label="Main">
    <div class="bd-toc-item navbar-nav active">
        
        <ul class="nav bd-sidenav bd-sidenav__home-link">
            <li class="toctree-l1">
                <a class="reference internal" href="../intro.html">
                    MSc Seagoing Oceanography
                </a>
            </li>
        </ul>
        <p aria-level="2" class="caption" role="heading"><span class="caption-text">Overview</span></p>
<ul class="nav bd-sidenav">
<li class="toctree-l1"><a class="reference internal" href="../overview/catalog-listing.html">Course catalog listing</a></li>
<li class="toctree-l1"><a class="reference internal" href="../overview/syllabus.html">Syllabus (SuSe24)</a></li>
<li class="toctree-l1"><a class="reference internal" href="../overview/schedule.html">Schedule (SuSe24)</a></li>
</ul>
<p aria-level="2" class="caption" role="heading"><span class="caption-text">Topics</span></p>
<ul class="nav bd-sidenav">
<li class="toctree-l1"><a class="reference internal" href="../topics/course_overview.html">1. Course overview</a></li>
<li class="toctree-l1"><a class="reference internal" href="../topics/scientific_basis.html">2. Scientific basis</a></li>
<li class="toctree-l1"><a class="reference internal" href="../topics/instruments_platforms.html">3. Instruments and platforms</a></li>
<li class="toctree-l1"><a class="reference internal" href="../topics/equations_v_data.html">4. Equations v data</a></li>
<li class="toctree-l1"><a class="reference internal" href="../topics/amoc_methods.html">5. AMOC Methods</a></li>
<li class="toctree-l1"><a class="reference internal" href="../topics/experiment_design.html">6. Experiment design</a></li>
<li class="toctree-l1"><a class="reference internal" href="../topics/sensors.html">7. Sensors</a></li>
<li class="toctree-l1"><a class="reference internal" href="../topics/sampling_uncertainty.html">8. Sampling &amp; Uncertainty</a></li>
<li class="toctree-l1"><a class="reference internal" href="../topics/case_study2.html">9. Case Study 2</a></li>
<li class="toctree-l1"><a class="reference internal" href="../topics/good_scientific_practice.html">10. Good research practice</a></li>
<li class="toctree-l1"><a class="reference internal" href="../topics/cruise_anatomy.html">11. Cruise anatomy</a></li>
</ul>
<p aria-level="2" class="caption" role="heading"><span class="caption-text">Exercises</span></p>
<ul class="nav bd-sidenav">
<li class="toctree-l1"><a class="reference internal" href="../exercise/exercise-git.html">Exercise 0a - Git</a></li>
<li class="toctree-l1"><a class="reference internal" href="../exercise/exercise-python.html">Exercise 0b - Python</a></li>
<li class="toctree-l1"><a class="reference internal" href="../exercise/exercise-cnv.html">Exercise 1 - Profile data</a></li>



<li class="toctree-l1"><a class="reference internal" href="../exercise/exercise-tseries.html">Exercise 2a  Time series</a></li>
<li class="toctree-l1"><a class="reference internal" href="../exercise/exercise-filter.html">Exercise 2b  Filtering</a></li>
<li class="toctree-l1"><a class="reference internal" href="../exercise/exercise-map.html">Exercise 3 - Exploring map projections</a></li>
<li class="toctree-l1"><a class="reference internal" href="../exercise/exercise-geostrophy.html">Exercise 4 -  Slopes &amp; Integrals</a></li>
<li class="toctree-l1"><a class="reference internal" href="../exercise/exercise-optimal-demo.html">Exercise 5 (demo) - Optimal interpolation</a></li>

<li class="toctree-l1"><a class="reference internal" href="../exercise/exercise-ctd-align.html">Exercise 6 - CTD Alignment</a></li>
<li class="toctree-l1"><a class="reference internal" href="../exercise/exercise-glider-demo.html">Exercise 7 (demo) - Gliders in the Baltic</a></li>



</ul>
<p aria-level="2" class="caption" role="heading"><span class="caption-text">Assignments</span></p>
<ul class="nav bd-sidenav">
<li class="toctree-l1"><a class="reference internal" href="../assignment/assignment-1.html">Assignment 1</a></li>
<li class="toctree-l1"><a class="reference internal" href="../assignment/assignment-2.html">Assignment 2</a></li>
</ul>
<p aria-level="2" class="caption" role="heading"><span class="caption-text">Resources</span></p>
<ul class="current nav bd-sidenav">
<li class="toctree-l1"><a class="reference internal" href="books.html">Books + Reading</a></li>
<li class="toctree-l1"><a class="reference internal" href="git.html">Git for sharing &amp; versioning</a></li>

<li class="toctree-l1 current active"><a class="current reference internal" href="#">Python</a></li>

<li class="toctree-l1"><a class="reference internal" href="glossary.html">Glossary</a></li>
</ul>
<ul class="nav bd-sidenav">
<li class="toctree-l1 has-children"><a class="reference internal" href="../build-the-book/getting-started.html">Setting up a jupyter book</a><input class="toctree-checkbox" id="toctree-checkbox-1" name="toctree-checkbox-1" type="checkbox"/><label class="toctree-toggle" for="toctree-checkbox-1"><i class="fa-solid fa-chevron-down"></i></label><ul>
<li class="toctree-l2"><a class="reference internal" href="../build-the-book/jupyter-book.html">Installation</a></li>
<li class="toctree-l2"><a class="reference internal" href="../build-the-book/github-pages.html">Prepare the git repositories</a></li>
<li class="toctree-l2"><a class="reference internal" href="../build-the-book/use-of-tokens.html">Use of tokens</a></li>
<li class="toctree-l2"><a class="reference internal" href="../build-the-book/regenerating-book.html">Regenerating the book after changes</a></li>
</ul>
</li>
</ul>

    </div>
</nav></div>
    </div>
  
  
  <div class="sidebar-primary-items__end sidebar-primary__section">
  </div>
  
  <div id="rtd-footer-container"></div>


      </div>
      
      <main id="main-content" class="bd-main">
        
        

<div class="sbt-scroll-pixel-helper"></div>

          <div class="bd-content">
            <div class="bd-article-container">
              
              <div class="bd-header-article">
<div class="header-article-items header-article__inner">
  
    <div class="header-article-items__start">
      
        <div class="header-article-item"><label class="sidebar-toggle primary-toggle btn btn-sm" for="__primary" title="Toggle primary sidebar" data-bs-placement="bottom" data-bs-toggle="tooltip">
  <span class="fa-solid fa-bars"></span>
</label></div>
      
    </div>
  
  
    <div class="header-article-items__end">
      
        <div class="header-article-item">

<div class="article-header-buttons">





<div class="dropdown dropdown-source-buttons">
  <button class="btn dropdown-toggle" type="button" data-bs-toggle="dropdown" aria-expanded="false" aria-label="Source repositories">
    <i class="fab fa-github"></i>
  </button>
  <ul class="dropdown-menu">
      
      
      
      <li><a href="https://github.com/ifmeo-hamburg/seaocn" target="_blank"
   class="btn btn-sm btn-source-repository-button dropdown-item"
   title="Source repository"
   data-bs-placement="left" data-bs-toggle="tooltip"
>
  

<span class="btn__icon-container">
  <i class="fab fa-github"></i>
  </span>
<span class="btn__text-container">Repository</span>
</a>
</li>
      
      
      
      
      <li><a href="https://github.com/ifmeo-hamburg/seaocn/issues/new?title=Issue%20on%20page%20%2Fresource/python.html&body=Your%20issue%20content%20here." target="_blank"
   class="btn btn-sm btn-source-issues-button dropdown-item"
   title="Open an issue"
   data-bs-placement="left" data-bs-toggle="tooltip"
>
  

<span class="btn__icon-container">
  <i class="fas fa-lightbulb"></i>
  </span>
<span class="btn__text-container">Open issue</span>
</a>
</li>
      
  </ul>
</div>






<div class="dropdown dropdown-download-buttons">
  <button class="btn dropdown-toggle" type="button" data-bs-toggle="dropdown" aria-expanded="false" aria-label="Download this page">
    <i class="fas fa-download"></i>
  </button>
  <ul class="dropdown-menu">
      
      
      
      <li><a href="../_sources/resource/python.md" target="_blank"
   class="btn btn-sm btn-download-source-button dropdown-item"
   title="Download source file"
   data-bs-placement="left" data-bs-toggle="tooltip"
>
  

<span class="btn__icon-container">
  <i class="fas fa-file"></i>
  </span>
<span class="btn__text-container">.md</span>
</a>
</li>
      
      
      
      
      <li>
<button onclick="window.print()"
  class="btn btn-sm btn-download-pdf-button dropdown-item"
  title="Print to PDF"
  data-bs-placement="left" data-bs-toggle="tooltip"
>
  

<span class="btn__icon-container">
  <i class="fas fa-file-pdf"></i>
  </span>
<span class="btn__text-container">.pdf</span>
</button>
</li>
      
  </ul>
</div>




<button onclick="toggleFullScreen()"
  class="btn btn-sm btn-fullscreen-button"
  title="Fullscreen mode"
  data-bs-placement="bottom" data-bs-toggle="tooltip"
>
  

<span class="btn__icon-container">
  <i class="fas fa-expand"></i>
  </span>

</button>



<script>
document.write(`
  <button class="btn btn-sm navbar-btn theme-switch-button" title="light/dark" aria-label="light/dark" data-bs-placement="bottom" data-bs-toggle="tooltip">
    <span class="theme-switch nav-link" data-mode="light"><i class="fa-solid fa-sun fa-lg"></i></span>
    <span class="theme-switch nav-link" data-mode="dark"><i class="fa-solid fa-moon fa-lg"></i></span>
    <span class="theme-switch nav-link" data-mode="auto"><i class="fa-solid fa-circle-half-stroke fa-lg"></i></span>
  </button>
`);
</script>


<script>
document.write(`
  <button class="btn btn-sm navbar-btn search-button search-button__button" title="Search" aria-label="Search" data-bs-placement="bottom" data-bs-toggle="tooltip">
    <i class="fa-solid fa-magnifying-glass fa-lg"></i>
  </button>
`);
</script>
<label class="sidebar-toggle secondary-toggle btn btn-sm" for="__secondary"title="Toggle secondary sidebar" data-bs-placement="bottom" data-bs-toggle="tooltip">
    <span class="fa-solid fa-list"></span>
</label>
</div></div>
      
    </div>
  
</div>
</div>
              
              

<div id="jb-print-docs-body" class="onlyprint">
    <h1>Python</h1>
    <!-- Table of contents -->
    <div id="print-main-content">
        <div id="jb-print-toc">
            
            <div>
                <h2> Contents </h2>
            </div>
            <nav aria-label="Page">
                <ul class="visible nav section-nav flex-column">
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#">Python</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#python-packages">Python packages</a><ul class="visible nav section-nav flex-column">
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#installing-packages-windows">Installing packages (Windows)</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#installing-packages-mac">Installing packages (Mac)</a><ul class="nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#problems-with-jupyter-book-and-kernels">Problems with jupyter-book and kernels</a></li>
</ul>
</li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#environments">Environments</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#adcp-data">ADCP data</a></li>
</ul>
</li>
</ul>

            </nav>
        </div>
    </div>
</div>

              
                
<div id="searchbox"></div>
                <article class="bd-article" role="main">
                  
  <section class="tex2jax_ignore mathjax_ignore" id="python">
<h1>Python<a class="headerlink" href="#python" title="Permalink to this heading">#</a></h1>
<p>If you don’t already have python, you can follow instructions on the <a class="reference external" href="https://carpentries.github.io/workshop-template/install_instructions/#python">Software Carpentry website</a>.  Note that their instructions are based on using Anaconda.</p>
</section>
<section class="tex2jax_ignore mathjax_ignore" id="python-packages">
<h1>Python packages<a class="headerlink" href="#python-packages" title="Permalink to this heading">#</a></h1>
<section id="installing-packages-windows">
<h2>Installing packages (Windows)<a class="headerlink" href="#installing-packages-windows" title="Permalink to this heading">#</a></h2>
<p>Ok, we are presuming some previous knowledge, but to help you get past some hurdles experienced, see tips below:</p>
<ul class="simple">
<li><p>If you try to run some code with an “import” line, and you get an error, this is likely because you don’t have the package installed (on your computer) and python is trying to load it.</p></li>
</ul>
<ul class="simple">
<li><p>How to fix this (Windows): You need to install the package using conda.  If you’re using “Anaconda”, then find the Anaconda prompt in the application.  See how here: <a class="reference external" href="https://saturncloud.io/blog/how-to-access-anaconda-command-prompt-in-windows-10-64bit/#2">https://saturncloud.io/blog/how-to-access-anaconda-command-prompt-in-windows-10-64bit/#2</a>.  Then you need to install the missing package with conda.</p></li>
</ul>
<p>Some packages you will need:</p>
<ul class="simple">
<li><p><a class="reference external" href="https://pypi.org/project/gsw/">Gibbs Seawater Toolbox (GSW)</a> - see installation instructions here</p></li>
<li><p><a class="reference external" href="https://docs.xarray.dev/en/latest/getting-started-guide/installing.html#instructions">xarray</a> - see installation for xarray and necessary other packages (dask, netCDF4, bottleneck).  This is a <em>very useful</em> data format/package for netcdf files (many ocean/climate datasets).</p></li>
<li><p><a class="reference external" href="https://www.pygmt.org/latest/install.html">pyGMT</a> - a plotting package (like <code class="docutils literal notranslate"><span class="pre">matplotlib</span></code> and <code class="docutils literal notranslate"><span class="pre">cartopy</span></code>.  Please note, installation is <em>recommended</em> via a package/environment manager like <code class="docutils literal notranslate"><span class="pre">conda</span></code>.  If you are using <code class="docutils literal notranslate"><span class="pre">pip</span></code> to install, then read the troubleshooting section below as well.</p></li>
</ul>
<p>You may also need:</p>
<ul class="simple">
<li><p><a class="reference external" href="https://pandas.pydata.org">pandas</a> - simpler than xarray.  Avoid, but may be needed.</p></li>
<li><p><a class="reference external" href="https://numpy.org/install/">numpy</a> - multi-dimensional arrays</p></li>
<li><p><a class="reference external" href="https://matplotlib.org/stable/users/getting_started/">matplotlib</a> - plotting tools, similar to Matlab style</p></li>
<li><p><a class="reference external" href="https://pypi.org/project/pycnv/">pycnv</a> - for importing Seabird format <code class="docutils literal notranslate"><span class="pre">*.cnv</span></code> datafiles</p></li>
</ul>
<p>Potentially of interest:</p>
<ul class="simple">
<li><p><a class="reference external" href="https://github.com/cioos-siooc/ocean-data-parser">ocean data parser</a> - but only has pip install instructions <a class="reference external" href="https://cioos-siooc.github.io/ocean-data-parser/dev/get_started/installation/">here</a>.  If you’ve been using conda and you’d like to use pip instead, you can use conda to install pip.  See some info <a class="reference external" href="https://stackoverflow.com/questions/19042389/conda-installing-upgrading-directly-from-github">here</a></p></li>
</ul>
</section>
<section id="installing-packages-mac">
<h2>Installing packages (Mac)<a class="headerlink" href="#installing-packages-mac" title="Permalink to this heading">#</a></h2>
<p>We need various packages as above.  For environment management, we use <code class="docutils literal notranslate"><span class="pre">conda</span></code> or <code class="docutils literal notranslate"><span class="pre">mamba</span></code>, and their lightweight forms: <code class="docutils literal notranslate"><span class="pre">miniconda</span></code> and <code class="docutils literal notranslate"><span class="pre">micromamba</span></code>.  Some students also use <code class="docutils literal notranslate"><span class="pre">pipenv</span></code>, which you can explore on your own e.g. <a class="reference external" href="https://docs.python-guide.org/dev/virtualenvs/">here</a>.</p>
<div class="admonition seealso">
<p class="admonition-title">See also</p>
<p>Managing environments with <a class="reference external" href="https://conda.io/projects/conda/en/latest/user-guide/tasks/manage-environments.html">conda</a> or <a class="reference external" href="https://mamba.readthedocs.io/en/latest/user_guide/mamba.html">mamba</a>.</p>
</div>
<p>Choose a directory where you will work on the python for this course.  Navigate to the directory in a terminal window.
The basic command is something like <code class="docutils literal notranslate"><span class="pre">conda</span> <span class="pre">create</span> <span class="pre">--name</span> <span class="pre">&lt;my-env&gt;</span></code>  where you replace <code class="docutils literal notranslate"><span class="pre">&lt;my-env&gt;</span></code> with the name of your environment.  Let’s call it <code class="docutils literal notranslate"><span class="pre">seaocn_env</span></code>.  But we’ll try to install a lot of the necessary pieces at once:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">conda</span> <span class="n">create</span> <span class="o">--</span><span class="n">channel</span> <span class="n">conda</span><span class="o">-</span><span class="n">forge</span> <span class="o">--</span><span class="n">name</span> <span class="n">seaocn_env</span> <span class="n">xarray</span> <span class="n">gsw</span> <span class="n">python</span> <span class="n">pandas</span> <span class="n">gsw</span> <span class="n">dask</span> <span class="n">netCDF4</span> <span class="n">bottleneck</span> <span class="n">numpy</span> <span class="n">matplotlib</span> <span class="n">jupyterlab</span> <span class="n">nb_conda</span> <span class="n">jupyter</span><span class="o">-</span><span class="n">book</span> <span class="n">ipykernel</span> <span class="n">nb_conda_kernels</span> <span class="n">pygmt</span> <span class="n">cartopy</span> <span class="n">scipy</span>
<span class="n">conda</span> <span class="n">activate</span> <span class="n">seaocn_env</span>
</pre></div>
</div>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>To install an individual package with conda, you can use</p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>conda install -c conda-forge &lt;package&gt;
</pre></div>
</div>
</div>
<p>We need a few more packages that seem to only have <code class="docutils literal notranslate"><span class="pre">pip</span></code> instructions</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">pip</span> <span class="n">install</span> <span class="n">pycnv</span>
<span class="n">pip</span> <span class="n">install</span> <span class="n">git</span><span class="o">+</span><span class="n">https</span><span class="p">:</span><span class="o">//</span><span class="n">github</span><span class="o">.</span><span class="n">com</span><span class="o">/</span><span class="n">cioos</span><span class="o">-</span><span class="n">siooc</span><span class="o">/</span><span class="n">ocean</span><span class="o">-</span><span class="n">data</span><span class="o">-</span><span class="n">parser</span><span class="o">.</span><span class="n">git</span>
<span class="n">conda</span> <span class="n">env</span> <span class="n">export</span> <span class="o">&gt;</span> <span class="n">environment</span><span class="o">.</span><span class="n">yml</span>
</pre></div>
</div>
<p>This has created a list of the current environment which you can get from this repository <a class="reference external" href="https://github.com/ifmeo-hamburg/seaocn/blob/main/environment.yml">environment.yml (repository)</a>.  If you download this into your working directory, you can activate the environment:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">conda</span> <span class="n">env</span> <span class="n">create</span> <span class="o">-</span><span class="n">f</span> <span class="n">environment</span><span class="o">.</span><span class="n">yml</span>
</pre></div>
</div>
<p>Then before you start working, activate the environment using</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">conda</span> <span class="n">activate</span> <span class="n">seaocn_env</span>
<span class="n">jupyter</span><span class="o">-</span><span class="n">lab</span>
</pre></div>
</div>
<p>Now, when you start <code class="docutils literal notranslate"><span class="pre">jupyter-lab</span></code> you’ll see that you can select the environment <code class="docutils literal notranslate"><span class="pre">seaocn_env</span></code>.  Or, when you open an existing python notebook (<code class="docutils literal notranslate"><span class="pre">*.ipynb</span></code> file), in the upper right corner you can select the environment (e.g., <code class="docutils literal notranslate"><span class="pre">seaocn_env</span></code> and tick the box to always open with preferred kernel).</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>If it’s been a while since you installed conda, you can update it with</p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>conda update -n base -c conda-forge conda
</pre></div>
</div>
<p>But your conda will tell you when you need to do this</p>
</div>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>If you want to recreate your environment with conda, after adding a few things, you can do a</p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>conda deactivate
conda remove --name seaocn_env --all
</pre></div>
</div>
<p>And then start fresh with the <code class="docutils literal notranslate"><span class="pre">conda</span> <span class="pre">create</span></code> code above, appending the extra packages in the intial install.</p>
</div>
<section id="problems-with-jupyter-book-and-kernels">
<h3>Problems with jupyter-book and kernels<a class="headerlink" href="#problems-with-jupyter-book-and-kernels" title="Permalink to this heading">#</a></h3>
<p>My jupyter-book didn’t know about my environment seaocn_env.  This should <em>not</em> be a problem for students, but is a problem when i want to execute this book (the course  notes) which contain packages that aren’t in my base installation of python on my computer.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>pico $HOME/.jupyter/jupyter_config.json
</pre></div>
</div>
<p>and add the lines</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="p">{</span>
  <span class="s2">&quot;CondaKernelSpecManager&quot;</span><span class="p">:</span> <span class="p">{</span>
    <span class="s2">&quot;kernelspec_path&quot;</span><span class="p">:</span> <span class="s2">&quot;--user&quot;</span>
  <span class="p">}</span>
<span class="p">}</span>
</pre></div>
</div>
<p>After saving this, I was able to run</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">python</span> <span class="o">-</span><span class="n">m</span> <span class="n">nb_conda_kernels</span> <span class="nb">list</span>
</pre></div>
</div>
<p>and it appeared to add my kernels.</p>
<p>Then making the jupter book worked without errors.</p>
<div class="admonition seealso">
<p class="admonition-title">See also</p>
<p><a class="reference external" href="https://fcollonval.medium.com/conda-environments-in-jupyter-ecosystem-without-pain-e9fab3992fb7">https://fcollonval.medium.com/conda-environments-in-jupyter-ecosystem-without-pain-e9fab3992fb7</a></p>
</div>
<p>(seaocn_env) 18:20 ~/Library/Mobile Documents/com~apple~CloudDocs/Work/teaching/SeaOcn-UHH $ python -m nb_conda_kernels list</p>
</section>
</section>
<section id="environments">
<h2>Environments<a class="headerlink" href="#environments" title="Permalink to this heading">#</a></h2>
<p>More advanced: It’s best to work inside an environment.  This controls the version of each of the packages that you have installed, so that the code is more likely to run smoothly on another person’s computer.  Some background on <a class="reference external" href="https://conda.io/projects/conda/en/latest/user-guide/tasks/manage-environments.html">conda environments</a>.</p>
</section>
<section id="adcp-data">
<h2>ADCP data<a class="headerlink" href="#adcp-data" title="Permalink to this heading">#</a></h2>
<p><em>This is a stub:</em> Likely looking package for handling <code class="docutils literal notranslate"><span class="pre">*.000</span></code> ADCP data files.
<a class="reference external" href="https://github.com/IOS-OSD-DPG/pycurrents_ADCP_processing/">pycurrents_ADCP_processing</a>.</p>
</section>
<div class="toctree-wrapper compound">
</div>
</section>

    <script type="text/x-thebe-config">
    {
        requestKernel: true,
        binderOptions: {
            repo: "binder-examples/jupyter-stacks-datascience",
            ref: "master",
        },
        codeMirrorConfig: {
            theme: "abcdef",
            mode: "python"
        },
        kernelOptions: {
            name: "python3",
            path: "./resource"
        },
        predefinedOutput: true
    }
    </script>
    <script>kernelName = 'python3'</script>

                </article>
              

              
              
              
              
                <footer class="prev-next-footer">
                  
<div class="prev-next-area">
    <a class="left-prev"
       href="git.html"
       title="previous page">
      <i class="fa-solid fa-angle-left"></i>
      <div class="prev-next-info">
        <p class="prev-next-subtitle">previous</p>
        <p class="prev-next-title">Git for sharing &amp; versioning</p>
      </div>
    </a>
    <a class="right-next"
       href="running-python.html"
       title="next page">
      <div class="prev-next-info">
        <p class="prev-next-subtitle">next</p>
        <p class="prev-next-title">Running Python (Windows)</p>
      </div>
      <i class="fa-solid fa-angle-right"></i>
    </a>
</div>
                </footer>
              
            </div>
            
            
              
                <div class="bd-sidebar-secondary bd-toc"><div class="sidebar-secondary-items sidebar-secondary__inner">

  <div class="sidebar-secondary-item">
  <div class="page-toc tocsection onthispage">
    <i class="fa-solid fa-list"></i> Contents
  </div>
  <nav class="bd-toc-nav page-toc">
    <ul class="visible nav section-nav flex-column">
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#">Python</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#python-packages">Python packages</a><ul class="visible nav section-nav flex-column">
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#installing-packages-windows">Installing packages (Windows)</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#installing-packages-mac">Installing packages (Mac)</a><ul class="nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#problems-with-jupyter-book-and-kernels">Problems with jupyter-book and kernels</a></li>
</ul>
</li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#environments">Environments</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#adcp-data">ADCP data</a></li>
</ul>
</li>
</ul>

  </nav></div>

</div></div>
              
            
          </div>
          <footer class="bd-footer-content">
            
<div class="bd-footer-content__inner container">
  
  <div class="footer-item">
    
<p class="component-author">
By Eleanor Frajka-Williams
</p>

  </div>
  
  <div class="footer-item">
    

  <p class="copyright">
    
      © Copyright 2024.
      <br/>
    
  </p>

  </div>
  
  <div class="footer-item">
    
  </div>
  
  <div class="footer-item">
    
  </div>
  
</div>
          </footer>
        

      </main>
    </div>
  </div>
  
  <!-- Scripts loaded after <body> so the DOM is not blocked -->
  <script src="../_static/scripts/bootstrap.js?digest=5b4479735964841361fd"></script>
<script src="../_static/scripts/pydata-sphinx-theme.js?digest=5b4479735964841361fd"></script>

  <footer class="bd-footer">
  </footer>
  </body>
</html>